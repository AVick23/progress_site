<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª - –ü—Ä–æ–≥—Ä–µ—Å—Å</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="telegram-app">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fab fa-telegram"></i>
                    <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                </div>
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="sidebar-search">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="–ü–æ–∏—Å–∫...">
                </div>
            </div>
            
            <div class="sidebar-menu">
                <a href="index.html" class="menu-item">
                    <i class="fas fa-home"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="tutor.html" class="menu-item">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>–î–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤</span>
                </a>
                <a href="student.html" class="menu-item">
                    <i class="fas fa-user-graduate"></i>
                    <span>–î–ª—è —É—á–µ–Ω–∏–∫–æ–≤</span>
                </a>
                <a href="features.html" class="menu-item active">
                    <i class="fas fa-star"></i>
                    <span>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</span>
                </a>
                <a href="contacts.html" class="menu-item">
                    <i class="fas fa-phone"></i>
                    <span>–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="avatar">–ü</div>
                    <div class="user-details">
                        <span class="user-name">–ë–æ—Ç "–ü—Ä–æ–≥—Ä–µ—Å—Å"</span>
                        <span class="user-status">–æ–Ω–ª–∞–π–Ω</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="content-header">
                <h1><i class="fas fa-star"></i> –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞</h1>
                <div class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </div>
            </div>
            
            <div class="chat-container">
                <!-- –ß–∞—Ç —Å –±–æ—Ç–æ–º -->
                <div class="telegram-chat" id="chatContainer">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ -->
                    <div class="message bot-message" id="welcomeMessage">
                        <div class="message-avatar">–ü</div>
                        <div class="message-content">
                            <div class="message-sender">–ë–æ—Ç "–ü—Ä–æ–≥—Ä–µ—Å—Å"</div>
                            <div class="message-text">
                                <p>üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–¥–µ–ª —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞!</p>
                                <p>–Ø ‚Äî –±–æ—Ç "–ü—Ä–æ–≥—Ä–µ—Å—Å", —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è –ø–æ–º–æ—â–∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º –∏ —É—á–µ–Ω–∏–∫–∞–º.</p>
                                <p>üëá <strong>–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –≤–∞—Å —Ä–∞–∑–¥–µ–ª:</strong></p>
                            </div>
                            
                            <!-- –ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ -->
                            <div class="inline-buttons">
                                <a href="javascript:void(0)" class="inline-button primary" onclick="showRegistrationGuide()">
                                    üë®‚Äçüè´ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                                </a>
                                <a href="javascript:void(0)" class="inline-button" onclick="showFunction('students')">
                                    üë• –£—á–µ–Ω–∏–∫–∏
                                </a>
                                <a href="javascript:void(0)" class="inline-button" onclick="showFunction('tasks')">
                                    üìù –ó–∞–¥–∞–Ω–∏—è
                                </a>
                                <a href="javascript:void(0)" class="inline-button" onclick="showFunction('materials')">
                                    üóÇ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
                                </a>
                                <a href="javascript:void(0)" class="inline-button" onclick="showFunction('statistics')">
                                    üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                                </a>
                                <a href="javascript:void(0)" class="inline-button" onclick="showFunction('help')">
                                    ‚ùì –ü–æ–º–æ—â—å
                                </a>
                            </div>
                            
                            <div class="message-time" id="welcomeTime"></div>
                        </div>
                    </div>
                    
                    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
                    <div class="typing-indicator" id="typingIndicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π -->
                    <div id="messageContainer"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // ===== –û–°–ù–û–í–ù–´–ï –£–¢–ò–õ–ò–¢–´ =====
        function getCurrentTime() {
            const now = new Date();
            return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
        }

        function createBotMessage(content) {
            const message = document.createElement('div');
            message.className = 'message bot-message';
            message.innerHTML = `
                <div class="message-avatar">–ü</div>
                <div class="message-content">
                    <div class="message-sender">–ë–æ—Ç "–ü—Ä–æ–≥—Ä–µ—Å—Å"</div>
                    <div class="message-text">${content}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;
            return message;
        }

        // ===== –§–£–ù–ö–¶–ò–ò –ü–†–û–ö–†–£–¢–ö–ò =====
        function scrollToElement(element) {
            const chatContainer = document.querySelector('.chat-container');
            if (!chatContainer || !element) return;
            
            // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DOM
            setTimeout(() => {
                const containerRect = chatContainer.getBoundingClientRect();
                const elementRect = element.getBoundingClientRect();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∏–¥–µ–Ω –ª–∏ —ç–ª–µ–º–µ–Ω—Ç
                const isInView = (
                    elementRect.top >= containerRect.top &&
                    elementRect.bottom <= containerRect.bottom
                );
                
                // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –≤–∏–¥–µ–Ω, –ø–ª–∞–≤–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –Ω–µ–º—É
                if (!isInView) {
                    const scrollTop = element.offsetTop - chatContainer.offsetTop - 50;
                    chatContainer.scrollTo({
                        top: Math.max(0, scrollTop),
                        behavior: 'smooth'
                    });
                }
            }, 50);
        }

        function scrollToBottom() {
            const chatContainer = document.querySelector('.chat-container');
            if (chatContainer) {
                setTimeout(() => {
                    chatContainer.scrollTo({
                        top: chatContainer.scrollHeight,
                        behavior: 'smooth'
                    });
                }, 100);
            }
        }

        function scrollToTop() {
            const chatContainer = document.querySelector('.chat-container');
            if (chatContainer) {
                chatContainer.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
        }

        // ===== –î–ê–ù–ù–´–ï –î–õ–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –†–ï–ü–ï–¢–ò–¢–û–†–ê =====
        let currentTutorStep = 0;
        const tutorRegistrationSteps = [
            {
                title: "üì± –≠—Ç–∞–ø 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ –≤—ã–±–æ—Ä —Ä–æ–ª–∏",
                content: `üëã <strong>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:</strong><br>
                <span class="command-button" onclick="simulateCommand('/start')">/start</span><br><br>
                <strong>–ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç:</strong><br>
                <em>"üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ¬´–ü—Ä–æ–≥—Ä–µ—Å—Å¬ª!"</em><br><br>
                <strong>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É:</strong><br>
                <span class="inline-button primary" style="margin: 5px 0;">üë®‚Äçüè´ –Ø —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä</span>`
            },
            {
                title: "üë§ –≠—Ç–∞–ø 2: –í–≤–æ–¥ –§–ò–û",
                content: `üìù <strong>–ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:</strong><br>
                <em>"üë§ –í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è (–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ):"</em><br><br>
                ‚úçÔ∏è <strong>–ü—Ä–∏–º–µ—Ä –≤–≤–æ–¥–∞:</strong><br>
                <code>–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á</code><br><br>
                <div class="requirements">
                    <strong>üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</strong><br>
                    ‚Ä¢ –ú–∏–Ω–∏–º—É–º 2 —Å–ª–æ–≤–∞<br>
                    ‚Ä¢ –ü–æ–ª–Ω–æ–µ –§–ò–û –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è
                </div>`
            },
            {
                title: "üìö –≠—Ç–∞–ø 3: –í—ã–±–æ—Ä –¥–∏—Å—Ü–∏–ø–ª–∏–Ω",
                content: `üéØ <strong>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç—ã:</strong><br><br>
                <div class="inline-buttons">
                    <span class="inline-button">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</span>
                    <span class="inline-button">–§–∏–∑–∏–∫–∞</span>
                    <span class="inline-button">–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞</span>
                </div><br>
                <div class="inline-buttons">
                    <span class="inline-button secondary">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é</span>
                    <span class="inline-button primary">‚úÖ –ì–æ—Ç–æ–≤–æ</span>
                </div><br>
                <em>–ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç–æ–≤!</em>`
            },
            {
                title: "üìû –≠—Ç–∞–ø 4: –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏",
                content: `üì± <strong>–ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:</strong><br>
                <em>"üìû –£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏:"</em><br><br>
                ‚úçÔ∏è <strong>–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:</strong><br>
                <code>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67</code><br>
                <code>Email: ivanov@mail.ru</code><br>
                <code>Telegram: @ivanov_tutor</code>`
            },
            {
                title: "üí¨ –≠—Ç–∞–ø 5: –†–∞—Å—Å–∫–∞–∑ –æ —Å–µ–±–µ",
                content: `üé® <strong>–ë–æ—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç:</strong><br>
                <em>"üí¨ –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ –∏ –≤–∞—à–µ–º –æ–ø—ã—Ç–µ..."</em><br><br>
                ‚úçÔ∏è <strong>–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:</strong><br>
                <code>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã 5 –ª–µ—Ç. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –ï–ì–≠ –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ. 15 —É—á–µ–Ω–∏–∫–æ–≤ —Å–¥–∞–ª–∏ –Ω–∞ 90+ –±–∞–ª–ª–æ–≤.</code>`
            },
            {
                title: "‚úÖ –≠—Ç–∞–ø 6: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
                content: `‚ú® <strong>–ë–æ—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–ø—Ä–æ—Å–∏—Ç:</strong><br>
                <em>"üìÑ –í—Å—ë –≤–µ—Ä–Ω–æ?"</em><br><br>
                <div class="inline-buttons">
                    <span class="inline-button primary">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</span>
                    <span class="inline-button">üîÑ –ò–∑–º–µ–Ω–∏—Ç—å</span>
                </div><br>
                –ù–∞–∂–º–∏—Ç–µ <strong>"‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"</strong> –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è!`
            }
        ];

        // ===== –î–ê–ù–ù–´–ï –î–õ–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –£–ß–ï–ù–ò–ö–ê =====
        let currentStudentStep = 0;
        const studentRegistrationSteps = [
            {
                title: "üì± –≠—Ç–∞–ø 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∏ –≤—ã–±–æ—Ä —Ä–æ–ª–∏",
                content: `üëã <strong>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:</strong><br>
                <span class="command-button" onclick="simulateCommand('/start')">/start</span><br><br>
                <strong>–ë–æ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:</strong><br>
                ‚Ä¢ –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–æ–≤—ã–π ‚Üí –ø–æ–∫–∞–∂–µ—Ç –≤—ã–±–æ—Ä —Ä–æ–ª–∏<br>
                ‚Ä¢ –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã–ª –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å<br>
                ‚Ä¢ –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω—ã–π ‚Üí —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é<br><br>
                <strong>–î–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</strong><br>
                <em>"üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É ¬´–ü—Ä–æ–≥—Ä–µ—Å—Å¬ª!"</em><br><br>
                <strong>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É:</strong><br>
                <span class="inline-button primary" style="margin: 5px 0;">üë®‚Äçüéì –Ø —É—á–µ–Ω–∏–∫</span>`
            },
            {
                title: "üë®‚Äçüéì –≠—Ç–∞–ø 2: –í—ã–±–æ—Ä —Ä–æ–ª–∏ —É—á–µ–Ω–∏–∫–∞",
                content: `üìã <strong>–ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç:</strong><br>
                <em>"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –≤–∞—à–µ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞:"</em><br><br>
                üîë <strong>–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–æ–∫–µ–Ω?</strong><br>
                ‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è<br>
                ‚Ä¢ –§–æ—Ä–º–∞—Ç: —Å—Ç—Ä–æ–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ (–æ–±—ã—á–Ω–æ 8+ —Å–∏–º–≤–æ–ª–æ–≤)<br>
                ‚Ä¢ –°–æ–∑–¥–∞–µ—Ç—Å—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º —á–µ—Ä–µ–∑ "–ú–æ–∏ —É—á–µ–Ω–∏–∫–∏" ‚Üí "–î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞"<br><br>
                ‚úçÔ∏è <strong>–ü—Ä–∏–º–µ—Ä –≤–≤–æ–¥–∞:</strong><br>
                <code>ABCD1234EFGH5678</code>`
            },
            {
                title: "üîë –≠—Ç–∞–ø 3: –í–≤–æ–¥ —Ç–æ–∫–µ–Ω–∞",
                content: `‚úÖ <strong>–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–∞–π–¥–µ–Ω:</strong><br>
                <em>"‚úÖ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, [–ò–º—è —É—á–µ–Ω–∏–∫–∞]!"</em><br><br>
                üë®‚Äçüè´ <strong>–í–∞—à —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä:</strong> [–§–ò–û —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞]<br>
                üìö <strong>–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:</strong> [–ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã]<br><br>
                <em>–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å.</em><br><br>
                ‚ùå <strong>–ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω:</strong><br>
                <em>"‚ùå –¢–æ–∫–µ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–ª. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω —É –≤–∞—à–µ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞."</em>`
            },
            {
                title: "üìñ –≠—Ç–∞–ø 4: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –º–µ–Ω—é",
                content: `üéâ <strong>–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:</strong><br><br>
                üìö <em>–ü–æ–º–æ—â—å –ø–æ –±–æ—Ç—É ¬´–ü—Ä–æ–≥—Ä–µ—Å—Å¬ª</em><br><br>
                <strong>üë®‚Äçüéì –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É—á–µ–Ω–∏–∫–∞:</strong><br><br>
                <div class="inline-buttons">
                    <span class="inline-button">üìù –ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è</span>
                    <span class="inline-button">üìö –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
                    <span class="inline-button">üìà –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</span>
                </div><br>
                <div class="inline-buttons">
                    <span class="inline-button">üë®‚Äçüè´ –†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã</span>
                    <span class="inline-button">‚öôÔ∏è –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</span>
                    <span class="inline-button primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞</span>
                </div><br>
                <em>–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –±–æ—Ç–∞!</em>`
            },
            {
                title: "‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞",
                content: `üîÑ <strong>–í—Ç–æ—Ä–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π:</strong> –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É —É—á–µ–Ω–∏–∫—É<br><br>
                <strong>–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:</strong><br>
                ‚Ä¢ –£—á–µ–Ω–∏–∫ —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ<br>
                ‚Ä¢ –£—á–µ–Ω–∏–∫ —Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞<br><br>
                <strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong><br>
                1. –£—á–µ–Ω–∏–∫ –Ω–∞–∂–∏–º–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞" –≤ –º–µ–Ω—é<br>
                2. –ë–æ—Ç –ø—Ä–æ—Å–∏—Ç –≤–≤–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω<br>
                3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π handle_new_token_for_existing_student<br><br>
                <strong>–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ:</strong><br>
                <em>"‚úÖ –ù–æ–≤—ã–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –¥–æ–±–∞–≤–ª–µ–Ω!"</em><br><br>
                üë®‚Äçüè´ <strong>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä:</strong> [–§–ò–û —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞]<br>
                üìö <strong>–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:</strong> [–ù–∞–∑–≤–∞–Ω–∏–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã]<br><br>
                <em>–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –ø–æ —ç—Ç–æ–π –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ.</em>`
            }
        ];

        // ===== –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò =====
        function showRegistrationGuide() {
            const messageContainer = document.getElementById('messageContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            messageContainer.innerHTML = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏
            typingIndicator.style.opacity = '1';
            
            // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –ø–µ—Ä–µ–¥ –æ—Ç–≤–µ—Ç–æ–º
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                // –°–æ–∑–¥–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞ –æ –≤—ã–±–æ—Ä–µ —Ä–æ–ª–∏
                const roleMessage = createBotMessage(`
                    üìö <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –±–æ—Ç–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å"</strong><br><br>
                    –í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é —Ä–æ–ª—å:<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button primary" onclick="showTutorRegistration()">
                            üë®‚Äçüè´ –Ø —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä
                        </button>
                        <button class="inline-button" onclick="showStudentRegistration()">
                            üë®‚Äçüéì –Ø —É—á–µ–Ω–∏–∫
                        </button>
                    </div>
                `);
                
                messageContainer.appendChild(roleMessage);
                
                // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–æ–≤–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
                setTimeout(() => {
                    scrollToElement(roleMessage);
                }, 100);
                
            }, 800);
        }

        // ===== –§–£–ù–ö–¶–ò–ò –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –†–ï–ü–ï–¢–ò–¢–û–†–ê =====
        function showTutorRegistration() {
            const messageContainer = document.getElementById('messageContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            
            messageContainer.innerHTML = '';
            typingIndicator.style.opacity = '1';
            
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                const startMessage = createBotMessage(`
                    üë®‚Äçüè´ <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ ‚Äî –ø–æ—à–∞–≥–æ–≤—ã–π –≥–∞–π–¥</strong><br><br>
                    –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ <strong>6 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤</strong>.<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button primary" onclick="startTutorFlow()">
                            ‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä —à–∞–≥–æ–≤
                        </button>
                        <button class="inline-button" onclick="showQuickTutorGuide()">
                            ‚ö° –ë—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥
                        </button>
                        <button class="inline-button" onclick="showRegistrationGuide()">
                            ‚Üê –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é —Ä–æ–ª—å
                        </button>
                    </div>
                `);
                
                messageContainer.appendChild(startMessage);
                setTimeout(() => {
                    scrollToElement(startMessage);
                }, 100);
            }, 800);
        }

        function startTutorFlow() {
            currentTutorStep = 0;
            const messageContainer = document.getElementById('messageContainer');
            
            messageContainer.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —à–∞–≥–æ–≤
            const stepIndicator = document.createElement('div');
            stepIndicator.className = 'step-indicator';
            stepIndicator.id = 'tutorStepIndicator';
            
            for (let i = 0; i < tutorRegistrationSteps.length; i++) {
                const dot = document.createElement('div');
                dot.className = `step-dot ${i === 0 ? 'active' : ''}`;
                dot.id = `tutorStepDot${i}`;
                stepIndicator.appendChild(dot);
            }
            
            messageContainer.appendChild(stepIndicator);
            showTutorStep(currentTutorStep);
        }

        function showTutorStep(stepIndex) {
            const messageContainer = document.getElementById('messageContainer');
            const step = tutorRegistrationSteps[stepIndex];
            
            const stepMessage = createBotMessage(`
                <h4>${step.title}</h4>
                <p>${step.content}</p>
                <div class="inline-buttons">
                    ${stepIndex > 0 ? `
                        <button class="inline-button" onclick="prevTutorStep()">
                            ‚óÄÔ∏è –ù–∞–∑–∞–¥
                        </button>
                    ` : ''}
                    
                    ${stepIndex < tutorRegistrationSteps.length - 1 ? `
                        <button class="inline-button primary" onclick="nextTutorStep()">
                            –î–∞–ª–µ–µ ‚ñ∂Ô∏è
                        </button>
                    ` : `
                        <button class="inline-button primary" onclick="finishTutorRegistration()">
                            ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä
                        </button>
                    `}
                </div>
            `);
            
            const existingStep = messageContainer.querySelector('.tutor-registration-step');
            if (existingStep) {
                existingStep.remove();
            }
            
            const stepIndicator = document.getElementById('tutorStepIndicator');
            stepMessage.classList.add('tutor-registration-step');
            messageContainer.insertBefore(stepMessage, stepIndicator.nextSibling);
            
            updateTutorStepIndicator(stepIndex);
            setTimeout(() => {
                scrollToElement(stepMessage);
            }, 150);
        }

        function nextTutorStep() {
            if (currentTutorStep < tutorRegistrationSteps.length - 1) {
                currentTutorStep++;
                showTutorStep(currentTutorStep);
            }
        }

        function prevTutorStep() {
            if (currentTutorStep > 0) {
                currentTutorStep--;
                showTutorStep(currentTutorStep);
            }
        }

        function updateTutorStepIndicator(stepIndex) {
            const dots = document.querySelectorAll('#tutorStepIndicator .step-dot');
            dots.forEach((dot, index) => {
                if (index === stepIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function finishTutorRegistration() {
            const messageContainer = document.getElementById('messageContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            
            typingIndicator.style.opacity = '1';
            
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                const finalMessage = createBotMessage(`
                    üéâ <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</strong><br><br>
                    –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –±–æ—Ç–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å".<br><br>
                    <strong>–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é:</strong><br>
                    1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Telegram<br>
                    2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ <strong>@ProgressTutorBot</strong><br>
                    3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É <code>/start</code><br>
                    4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button primary" onclick="showMainMenu()">
                            üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
                        </button>
                    </div>
                `);
                
                messageContainer.appendChild(finalMessage);
                setTimeout(() => {
                    scrollToBottom();
                }, 200);
            }, 800);
        }

        function showQuickTutorGuide() {
            const messageContainer = document.getElementById('messageContainer');
            messageContainer.innerHTML = '';
            
            const quickMessage = createBotMessage(`
                ‚ö° <strong>–ë—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥ –ø–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞:</strong><br><br>
                <div class="feature-list">
                    <p><strong>1.</strong> üì± –û—Ç–ø—Ä–∞–≤—å—Ç–µ <code>/start</code></p>
                    <p><strong>2.</strong> üë®‚Äçüè´ –ù–∞–∂–º–∏—Ç–µ "–Ø —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä"</p>
                    <p><strong>3.</strong> üë§ –í–≤–µ–¥–∏—Ç–µ –§–ò–û</p>
                    <p><strong>4.</strong> üìö –í—ã–±–µ—Ä–∏—Ç–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã</p>
                    <p><strong>5.</strong> üìû –£–∫–∞–∂–∏—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã</p>
                    <p><strong>6.</strong> üí¨ –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ</p>
                    <p><strong>7.</strong> ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</p>
                    <p><strong>8.</strong> üéâ –ì–æ—Ç–æ–≤–æ!</p>
                </div>
                <br>
                ‚è± <strong>–í—Ä–µ–º—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> 3-5 –º–∏–Ω—É—Ç<br><br>
                <div class="inline-buttons">
                    <button class="inline-button primary" onclick="startTutorFlow()">
                        ‚ñ∂Ô∏è –ü–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥
                    </button>
                    <button class="inline-button" onclick="showTutorRegistration()">
                        ‚Üê –ù–∞–∑–∞–¥
                    </button>
                </div>
            `);
            
            messageContainer.appendChild(quickMessage);
            setTimeout(() => {
                scrollToElement(quickMessage);
            }, 100);
        }

        // ===== –§–£–ù–ö–¶–ò–ò –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –£–ß–ï–ù–ò–ö–ê =====
        function showStudentRegistration() {
            const messageContainer = document.getElementById('messageContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            
            messageContainer.innerHTML = '';
            typingIndicator.style.opacity = '1';
            
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                const startMessage = createBotMessage(`
                    üìö <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞ –≤ –±–æ—Ç–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å"</strong><br><br>
                    –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—á–µ–Ω–∏–∫–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ <strong>5 —à–∞–≥–æ–≤</strong>.<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button primary" onclick="startStudentFlow()">
                            ‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä —à–∞–≥–æ–≤
                        </button>
                        <button class="inline-button" onclick="showQuickStudentGuide()">
                            ‚ö° –ë—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥
                        </button>
                        <button class="inline-button" onclick="showRegistrationGuide()">
                            ‚Üê –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥—É—é —Ä–æ–ª—å
                        </button>
                    </div>
                `);
                
                messageContainer.appendChild(startMessage);
                setTimeout(() => {
                    scrollToElement(startMessage);
                }, 100);
            }, 800);
        }

        function startStudentFlow() {
            currentStudentStep = 0;
            const messageContainer = document.getElementById('messageContainer');
            
            messageContainer.innerHTML = '';
            
            // –°–æ–∑–¥–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —à–∞–≥–æ–≤
            const stepIndicator = document.createElement('div');
            stepIndicator.className = 'step-indicator';
            stepIndicator.id = 'studentStepIndicator';
            
            for (let i = 0; i < studentRegistrationSteps.length; i++) {
                const dot = document.createElement('div');
                dot.className = `step-dot ${i === 0 ? 'active' : ''}`;
                dot.id = `studentStepDot${i}`;
                stepIndicator.appendChild(dot);
            }
            
            messageContainer.appendChild(stepIndicator);
            showStudentStep(currentStudentStep);
        }

        function showStudentStep(stepIndex) {
            const messageContainer = document.getElementById('messageContainer');
            const step = studentRegistrationSteps[stepIndex];
            
            const stepMessage = createBotMessage(`
                <h4>${step.title}</h4>
                <p>${step.content}</p>
                <div class="inline-buttons">
                    ${stepIndex > 0 ? `
                        <button class="inline-button" onclick="prevStudentStep()">
                            ‚óÄÔ∏è –ù–∞–∑–∞–¥
                        </button>
                    ` : ''}
                    
                    ${stepIndex < studentRegistrationSteps.length - 1 ? `
                        <button class="inline-button primary" onclick="nextStudentStep()">
                            –î–∞–ª–µ–µ ‚ñ∂Ô∏è
                        </button>
                    ` : `
                        <button class="inline-button primary" onclick="finishStudentRegistration()">
                            ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä
                        </button>
                    `}
                </div>
            `);
            
            const existingStep = messageContainer.querySelector('.student-registration-step');
            if (existingStep) {
                existingStep.remove();
            }
            
            const stepIndicator = document.getElementById('studentStepIndicator');
            stepMessage.classList.add('student-registration-step');
            messageContainer.insertBefore(stepMessage, stepIndicator.nextSibling);
            
            updateStudentStepIndicator(stepIndex);
            setTimeout(() => {
                scrollToElement(stepMessage);
            }, 150);
        }

        function nextStudentStep() {
            if (currentStudentStep < studentRegistrationSteps.length - 1) {
                currentStudentStep++;
                showStudentStep(currentStudentStep);
            }
        }

        function prevStudentStep() {
            if (currentStudentStep > 0) {
                currentStudentStep--;
                showStudentStep(currentStudentStep);
            }
        }

        function updateStudentStepIndicator(stepIndex) {
            const dots = document.querySelectorAll('#studentStepIndicator .step-dot');
            dots.forEach((dot, index) => {
                if (index === stepIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function finishStudentRegistration() {
            const messageContainer = document.getElementById('messageContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            
            typingIndicator.style.opacity = '1';
            
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                const finalMessage = createBotMessage(`
                    üéâ <strong>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–µ–Ω–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</strong><br><br>
                    –¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—á–µ–Ω–∏–∫–∞ –≤ –±–æ—Ç–µ "–ü—Ä–æ–≥—Ä–µ—Å—Å".<br><br>
                    <strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong><br>
                    ‚Ä¢ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ —Ç–æ–∫–µ–Ω—É –æ—Ç —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞<br>
                    ‚Ä¢ –û–¥–∏–Ω —É—á–µ–Ω–∏–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤<br>
                    ‚Ä¢ –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button primary" onclick="showMainMenu()">
                            üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
                        </button>
                    </div>
                `);
                
                messageContainer.appendChild(finalMessage);
                setTimeout(() => {
                    scrollToBottom();
                }, 200);
            }, 800);
        }

        function showQuickStudentGuide() {
            const messageContainer = document.getElementById('messageContainer');
            messageContainer.innerHTML = '';
            
            const quickMessage = createBotMessage(`
                ‚ö° <strong>–ë—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥ –ø–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—á–µ–Ω–∏–∫–∞:</strong><br><br>
                <div class="feature-list">
                    <p><strong>1.</strong> üì± –û—Ç–ø—Ä–∞–≤—å—Ç–µ <code>/start</code></p>
                    <p><strong>2.</strong> üë®‚Äçüéì –ù–∞–∂–º–∏—Ç–µ "–Ø —É—á–µ–Ω–∏–∫"</p>
                    <p><strong>3.</strong> üîë –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –æ—Ç —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞</p>
                    <p><strong>4.</strong> ‚úÖ –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</p>
                    <p><strong>5.</strong> üìö –ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞–Ω–∏—è–º –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º</p>
                    <p><strong>6.</strong> ‚ûï –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é</p>
                </div>
                <br>
                ‚è± <strong>–í—Ä–µ–º—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</strong> 2-3 –º–∏–Ω—É—Ç—ã<br><br>
                <div class="inline-buttons">
                    <button class="inline-button primary" onclick="startStudentFlow()">
                        ‚ñ∂Ô∏è –ü–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥
                    </button>
                    <button class="inline-button" onclick="showStudentRegistration()">
                        ‚Üê –ù–∞–∑–∞–¥
                    </button>
                </div>
            `);
            
            messageContainer.appendChild(quickMessage);
            setTimeout(() => {
                scrollToElement(quickMessage);
            }, 100);
        }

        // ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====
        function showMainMenu() {
            const messageContainer = document.getElementById('messageContainer');
            messageContainer.innerHTML = '';
            
            setTimeout(() => {
                scrollToTop();
            }, 50);
        }

        function showFunction(functionName) {
            const typingIndicator = document.getElementById('typingIndicator');
            const messageContainer = document.getElementById('messageContainer');
            
            messageContainer.innerHTML = '';
            typingIndicator.style.opacity = '1';
            
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                let functionMessage;
                
                switch(functionName) {
                    case 'students':
                        functionMessage = createBotMessage(`
                            üë• <strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏</strong><br><br>
                            üìã <strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong><br>
                            ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–æ–≤ –ø–æ —Ç–æ–∫–µ–Ω–∞–º<br>
                            ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º<br>
                            ‚Ä¢ –ö–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ–Ω–∏–∫–∞ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏<br>
                            ‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞–Ω–∏–π<br><br>
                            üéØ <strong>–ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ:</strong><br>
                            1. –ù–∞–∂–º–∏—Ç–µ "üë• –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏"<br>
                            2. –ù–∞–∂–º–∏—Ç–µ "+ –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞"<br>
                            3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω —É—á–µ–Ω–∏–∫—É<br><br>
                            <div class="inline-buttons">
                                <button class="inline-button" onclick="showMainMenu()">
                                    ‚Üê –ù–∞–∑–∞–¥
                                </button>
                                <button class="inline-button primary" onclick="showRegistrationGuide()">
                                    üìö –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                                </button>
                            </div>
                        `);
                        break;
                        
                    case 'tasks':
                        functionMessage = createBotMessage(`
                            üìù <strong>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π</strong><br><br>
                            üé® <strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong><br>
                            ‚Ä¢ –í—ã–±–æ—Ä —É—á–µ–Ω–∏–∫–∞ –∏–ª–∏ –≥—Ä—É–ø–ø—ã<br>
                            ‚Ä¢ –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤<br>
                            ‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤<br>
                            ‚Ä¢ –®–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è<br>
                            ‚Ä¢ –ê–≤—Ç–æ—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É—á–µ–Ω–∏–∫–∞–º<br><br>
                            ‚ö° <strong>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è:</strong><br>
                            1. –ù–∞–∂–º–∏—Ç–µ "üìù –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ"<br>
                            2. –í—ã–±–µ—Ä–∏—Ç–µ —É—á–µ–Ω–∏–∫–∞<br>
                            3. –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ<br>
                            4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥–µ–¥–ª–∞–π–Ω<br>
                            5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ!<br><br>
                            <div class="inline-buttons">
                                <button class="inline-button" onclick="showMainMenu()">
                                    ‚Üê –ù–∞–∑–∞–¥
                                </button>
                            </div>
                        `);
                        break;
                        
                    case 'materials':
                        functionMessage = createBotMessage(`
                            üóÇ <strong>–ë–∞–Ω–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</strong><br><br>
                            üìö <strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞:</strong><br>
                            ‚Ä¢ –î–∏—Å—Ü–∏–ø–ª–∏–Ω—ã ‚Üí –¢–µ–º—ã ‚Üí –ú–∞—Ç–µ—Ä–∏–∞–ª—ã<br>
                            ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PDF, DOC, JPG, —Å—Å—ã–ª–æ–∫<br>
                            ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –¥–ª—è —É—á–µ–Ω–∏–∫–æ–≤<br>
                            ‚Ä¢ –≠–∫—Å–ø–æ—Ä—Ç –≤ ZIP-–∞—Ä—Ö–∏–≤—ã<br><br>
                            üóÉÔ∏è <strong>–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:</strong><br>
                            üìÅ –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞<br>
                            &nbsp;&nbsp;‚îú‚îÄ‚îÄ üìÅ –ê–ª–≥–µ–±—Ä–∞<br>
                            &nbsp;&nbsp;‚îî‚îÄ‚îÄ üìÅ –ì–µ–æ–º–µ—Ç—Ä–∏—è<br><br>
                            <div class="inline-buttons">
                                <button class="inline-button" onclick="showMainMenu()">
                                    ‚Üê –ù–∞–∑–∞–¥
                                </button>
                            </div>
                        `);
                        break;
                        
                    case 'statistics':
                        functionMessage = createBotMessage(`
                            üìä <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</strong><br><br>
                            üìà <strong>–î–æ—Å—Ç—É–ø–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:</strong><br>
                            ‚Ä¢ –û–±—â–∞—è —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å —É—á–µ–Ω–∏–∫–æ–≤<br>
                            ‚Ä¢ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è<br>
                            ‚Ä¢ –¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏<br>
                            ‚Ä¢ –ü—Ä–æ–≥–Ω–æ–∑ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏<br>
                            ‚Ä¢ –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –≤ PDF/Excel<br><br>
                            üìä <strong>–ì—Ä–∞—Ñ–∏–∫–∏:</strong><br>
                            ‚Ä¢ –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞—à–±–æ—Ä–¥<br>
                            ‚Ä¢ –†–∞–¥–∞—Ä –∑–Ω–∞–Ω–∏–π<br>
                            ‚Ä¢ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–æ–≤<br>
                            ‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–Ω—è—Ç–∏–π<br><br>
                            <div class="inline-buttons">
                                <button class="inline-button" onclick="showMainMenu()">
                                    ‚Üê –ù–∞–∑–∞–¥
                                </button>
                            </div>
                        `);
                        break;
                        
                    case 'help':
                        functionMessage = createBotMessage(`
                            ‚ùì <strong>–ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</strong><br><br>
                            üÜò <strong>–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:</strong><br>
                            <div class="inline-buttons">
                                <span class="command-button">/start</span>
                                <span class="command-button">/help</span>
                                <span class="command-button">/menu</span>
                                <span class="command-button">/profile</span>
                            </div><br>
                            üìû <strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞:</strong><br>
                            ‚Ä¢ Email: support@progress-tutor.ru<br>
                            ‚Ä¢ Telegram: @progress_support<br><br>
                            üìñ <strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:</strong><br>
                            progress-tutor.ru/docs<br><br>
                            <div class="inline-buttons">
                                <button class="inline-button" onclick="showMainMenu()">
                                    ‚Üê –ù–∞–∑–∞–¥
                                </button>
                            </div>
                        `);
                        break;
                }
                
                messageContainer.appendChild(functionMessage);
                setTimeout(() => {
                    scrollToElement(functionMessage);
                }, 150);
            }, 800);
        }

        function simulateCommand(command) {
            const typingIndicator = document.getElementById('typingIndicator');
            const messageContainer = document.getElementById('messageContainer');
            
            messageContainer.innerHTML = '';
            typingIndicator.style.opacity = '1';
            
            setTimeout(() => {
                typingIndicator.style.opacity = '0';
                
                const response = createBotMessage(`
                    ü§ñ <strong>–ö–æ–º–∞–Ω–¥–∞ "${command}" –ø—Ä–∏–Ω—è—Ç–∞!</strong><br><br>
                    –í —Ä–µ–∞–ª—å–Ω–æ–º –±–æ—Ç–µ —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å.<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button primary" onclick="showRegistrationGuide()">
                            üìö –ù–∞—á–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
                        </button>
                        <button class="inline-button" onclick="showMainMenu()">
                            ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                        </button>
                    </div>
                `);
                
                messageContainer.appendChild(response);
                setTimeout(() => {
                    scrollToElement(response);
                }, 150);
            }, 800);
        }
        const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.querySelector('.sidebar');
            
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('mobile-open');
                });
            }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('welcomeTime').textContent = getCurrentTime();
            
            const welcomeMessage = document.getElementById('welcomeMessage');
            setTimeout(() => {
                welcomeMessage.style.opacity = '1';
                welcomeMessage.style.transform = 'translateY(0)';
            }, 300);
            
            setInterval(() => {
                const timeElement = document.getElementById('welcomeTime');
                if (timeElement) {
                    timeElement.textContent = getCurrentTime();
                }
            }, 60000);
        });
    </script>
</body>
</html>