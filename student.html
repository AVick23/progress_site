<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–ª—è —É—á–µ–Ω–∏–∫–æ–≤ - –ü—Ä–æ–≥—Ä–µ—Å—Å</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π */
        :root {
            --status-active: #34c759;
            --status-overdue: #ff3b30;
            --status-submitted: #007aff;
            --status-checking: #ff9500;
            --status-completed: #5856d6;
            --status-returned: #af52de;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º */
        .materials-navigation {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .nav-button {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition-smooth);
            flex: 1;
            min-width: 200px;
        }
        
        .nav-button:hover {
            background: var(--bg-card-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }
        
        .nav-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-primary);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .nav-info {
            display: flex;
            flex-direction: column;
        }
        
        .nav-title {
            font-weight: 600;
            font-size: 14px;
        }
        
        .nav-description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ */
        .material-detail {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
        }
        
        .material-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-light);
        }
        
        .material-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }
        
        .material-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .material-meta {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .material-content {
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .material-file {
            background: rgba(118, 118, 128, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            border-left: 3px solid var(--text-accent);
        }
        
        .material-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-box {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            border: 1px solid var(--border-light);
        }
        
        .stat-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
        }
        
        .stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin: 10px 0;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }
        
        .stat-trend {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .trend-up {
            color: #34c759;
        }
        
        .trend-down {
            color: #ff3b30;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ */
        .progress-chart {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-period {
            display: flex;
            gap: 10px;
        }
        
        .period-btn {
            padding: 8px 16px;
            background: rgba(118, 118, 128, 0.1);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            cursor: pointer;
            font-size: 13px;
            transition: var(--transition-smooth);
        }
        
        .period-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }
        
        .chart-container {
            height: 200px;
            position: relative;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ç–µ–º */
        .topics-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin: 20px 0;
        }
        
        .topic-item {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--border-light);
            transition: var(--transition-smooth);
        }
        
        .topic-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-soft);
        }
        
        .topic-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .topic-name {
            font-weight: 600;
            font-size: 15px;
        }
        
        .topic-stats {
            display: flex;
            gap: 15px;
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .topic-progress {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .progress-circle {
            width: 60px;
            height: 60px;
            position: relative;
        }
        
        .circle-bg {
            fill: none;
            stroke: rgba(118, 118, 128, 0.2);
            stroke-width: 4;
        }
        
        .circle-progress {
            fill: none;
            stroke: var(--text-accent);
            stroke-width: 4;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            transition: stroke-dashoffset 0.5s ease;
        }
        
        .progress-percent {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 14px;
            font-weight: 600;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        .notifications-panel {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
            max-height: 400px;
            overflow-y: auto;
        }
        
        .notification-item {
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 10px;
            background: rgba(118, 118, 128, 0.08);
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }
        
        .notification-item.unread {
            background: rgba(0, 122, 255, 0.08);
            border-left: 3px solid var(--text-accent);
        }
        
        .notification-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 14px;
        }
        
        .notification-text {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }
        
        .notification-time {
            font-size: 11px;
            color: var(--text-secondary);
            opacity: 0.8;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –¥–µ–¥–ª–∞–π–Ω–æ–≤ */
        .deadline-calendar {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid var(--border-light);
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .calendar-nav {
            display: flex;
            gap: 10px;
        }
        
        .nav-btn {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: rgba(118, 118, 128, 0.1);
            border: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-smooth);
        }
        
        .nav-btn:hover {
            background: rgba(0, 122, 255, 0.1);
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-bottom: 20px;
        }
        
        .calendar-day {
            padding: 10px;
            text-align: center;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
        }
        
        .calendar-day.header {
            color: var(--text-secondary);
            font-weight: 600;
        }
        
        .calendar-day.today {
            background: var(--gradient-primary);
            color: white;
        }
        
        .calendar-day.has-deadline {
            background: rgba(255, 149, 0, 0.1);
            border: 1px solid rgba(255, 149, 0, 0.3);
        }
        
        .calendar-day.overdue {
            background: rgba(255, 59, 48, 0.1);
            border: 1px solid rgba(255, 59, 48, 0.3);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        @media (max-width: 768px) {
            .materials-navigation {
                flex-direction: column;
            }
            
            .nav-button {
                min-width: 100%;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .material-actions {
                flex-direction: column;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                font-size: 12px;
            }
            
            .calendar-day {
                padding: 6px;
            }
            
            .topic-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            .topic-progress {
                width: 100%;
                justify-content: space-between;
            }
            
            .progress-circle {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="telegram-app">
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fab fa-telegram"></i>
                    <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                </div>
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="sidebar-search">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="–ü–æ–∏—Å–∫...">
                </div>
            </div>
            
            <div class="sidebar-menu">
                <a href="index.html" class="menu-item">
                    <i class="fas fa-home"></i>
                    <span>–ì–ª–∞–≤–Ω–∞—è</span>
                </a>
                <a href="tutor.html" class="menu-item">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>–î–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤</span>
                </a>
                <a href="student.html" class="menu-item active">
                    <i class="fas fa-user-graduate"></i>
                    <span>–î–ª—è —É—á–µ–Ω–∏–∫–æ–≤</span>
                </a>
                <a href="features.html" class="menu-item">
                    <i class="fas fa-star"></i>
                    <span>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª</span>
                </a>
                <a href="contacts.html" class="menu-item">
                    <i class="fas fa-phone"></i>
                    <span>–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="avatar">–ü</div>
                    <div class="user-details">
                        <span class="user-name">–£—á–µ–Ω–∏–∫: –ò–≤–∞–Ω–æ–≤ –ò.–ò.</span>
                        <span class="user-status">–æ–Ω–ª–∞–π–Ω</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="content-header">
                <h1><i class="fas fa-user-graduate"></i> –î–ª—è —É—á–µ–Ω–∏–∫–æ–≤</h1>
                <div class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </div>
            </div>
            
            <div class="chat-container">
                <!-- –ß–∞—Ç —Å –±–æ—Ç–æ–º -->
                <div class="telegram-chat" id="chatContainer">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ -->
                    <div class="message bot-message" id="welcomeMessage">
                        <div class="message-avatar">–ü</div>
                        <div class="message-content">
                            <div class="message-sender">–ë–æ—Ç "–ü—Ä–æ–≥—Ä–µ—Å—Å"</div>
                            <div class="message-text">
                                <p>üëã <strong>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, —É—á–µ–Ω–∏–∫!</strong></p>
                                <p>–≠—Ç–æ –≤–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º–∏.</p>
                                <div class="student-info" id="studentInfo">
                                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
                                </div>
                                <p>üëá <strong>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É—á–µ–Ω–∏–∫–∞:</strong></p>
                            </div>
                            
                            <!-- –ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é -->
                            <div class="inline-buttons" id="mainMenu">
                                <div class="button-row">
                                    <button class="inline-button" onclick="showSection('assignments')">
                                        üìù –ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è
                                    </button>
                                    <button class="inline-button" onclick="showSection('materials')">
                                        üìö –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
                                    </button>
                                </div>
                                <div class="button-row">
                                    <button class="inline-button" onclick="showSection('stats')">
                                        üìà –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å
                                    </button>
                                    <button class="inline-button" onclick="showSection('tutors')">
                                        üë®‚Äçüè´ –†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã
                                    </button>
                                </div>
                                <div class="button-row">
                                    <button class="inline-button" onclick="showSection('profile')">
                                        ‚öôÔ∏è –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                                    </button>
                                    <button class="inline-button primary" onclick="showSection('addTutor')">
                                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞
                                    </button>
                                </div>
                            </div>
                            
                            <div class="message-time" id="welcomeTime"></div>
                        </div>
                    </div>
                    
                    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏ -->
                    <div class="typing-indicator" id="typingIndicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    
                    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π -->
                    <div id="messageContainer"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ===== –û–°–ù–û–í–ù–´–ï –£–¢–ò–õ–ò–¢–´ =====
        function getCurrentTime() {
            const now = new Date();
            return `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
        }

        function createBotMessage(content) {
            const message = document.createElement('div');
            message.className = 'message bot-message';
            message.innerHTML = `
                <div class="message-avatar">–ü</div>
                <div class="message-content">
                    <div class="message-sender">–ë–æ—Ç "–ü—Ä–æ–≥—Ä–µ—Å—Å"</div>
                    <div class="message-text">${content}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;
            return message;
        }

        function createUserMessage(content) {
            const message = document.createElement('div');
            message.className = 'message user-message';
            message.style.marginLeft = 'auto';
            message.style.marginRight = '0';
            message.style.maxWidth = '75%';
            message.innerHTML = `
                <div class="message-content">
                    <div class="message-sender">–í—ã</div>
                    <div class="message-text">${content}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;
            return message;
        }

        // ===== –§–£–ù–ö–¶–ò–ò –ü–†–û–ö–†–£–¢–ö–ò =====
        function scrollToElement(element) {
            const chatContainer = document.querySelector('.chat-container');
            if (!chatContainer || !element) return;
            
            setTimeout(() => {
                const containerRect = chatContainer.getBoundingClientRect();
                const elementRect = element.getBoundingClientRect();
                
                const isInView = (
                    elementRect.top >= containerRect.top &&
                    elementRect.bottom <= containerRect.bottom
                );
                
                if (!isInView) {
                    const scrollTop = element.offsetTop - chatContainer.offsetTop - 50;
                    chatContainer.scrollTo({
                        top: Math.max(0, scrollTop),
                        behavior: 'smooth'
                    });
                }
            }, 50);
        }

        function scrollToBottom() {
            const chatContainer = document.querySelector('.chat-container');
            if (chatContainer) {
                setTimeout(() => {
                    chatContainer.scrollTo({
                        top: chatContainer.scrollHeight,
                        behavior: 'smooth'
                    });
                }, 100);
            }
        }

        function showTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.style.opacity = '1';
            typingIndicator.style.height = 'auto';
            scrollToBottom();
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.style.opacity = '0';
            setTimeout(() => {
                typingIndicator.style.height = '0';
            }, 300);
        }

        // ===== –î–ê–ù–ù–´–ï –£–ß–ï–ù–ò–ö–ê =====
        let studentData = {
            fullName: "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
            tutors: [
                {
                    id: 1,
                    name: "–ü–µ—Ç—Ä–æ–≤–∞ –ú–∞—Ä–∏—è –°–µ—Ä–≥–µ–µ–≤–Ω–∞",
                    subject: "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
                    active: true,
                    current: true
                },
                {
                    id: 2,
                    name: "–°–∏–¥–æ—Ä–æ–≤ –ê–ª–µ–∫—Å–µ–π –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–∏—á",
                    subject: "–§–∏–∑–∏–∫–∞",
                    active: true,
                    current: false
                }
            ],
            assignments: {
                active: 3,
                overdue: 1,
                submitted: 12,
                checking: 1,
                completed: 24,
                total: 40
            },
            progress: 80.0,
            recentActivity: "–°–µ–≥–æ–¥–Ω—è –≤ 14:30",
            notifications: [
                {
                    id: 1,
                    type: 'assignment',
                    title: '–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ',
                    text: '–î–æ–±–∞–≤–ª–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–µ "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ Student"',
                    time: '2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥',
                    unread: true
                },
                {
                    id: 2,
                    type: 'check',
                    title: '–†–∞–±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞',
                    text: '–†–µ–ø–µ—Ç–∏—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∏–ª –≤–∞—à—É —Ä–∞–±–æ—Ç—É –ø–æ —Ç–µ–º–µ "–ê–ª–≥–æ—Ä–∏—Ç–º—ã"',
                    time: '–≤—á–µ—Ä–∞',
                    unread: true
                },
                {
                    id: 3,
                    type: 'reminder',
                    title: '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ',
                    text: '–ó–∞–≤—Ç—Ä–∞ –¥–µ–¥–ª–∞–π–Ω –ø–æ –∑–∞–¥–∞–Ω–∏—é "–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏"',
                    time: '2 –¥–Ω—è –Ω–∞–∑–∞–¥',
                    unread: false
                }
            ]
        };

        // ===== –§–£–ù–ö–¶–ò–ò –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø –†–ê–ó–î–ï–õ–û–í =====
        function updateStudentInfo() {
            const currentTutor = studentData.tutors.find(t => t.current);
            const studentInfo = document.getElementById('studentInfo');
            
            if (currentTutor) {
                studentInfo.innerHTML = `
                    <div class="tutor-info">
                        <strong>üë®‚Äçüè´ –¢–µ–∫—É—â–∏–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä:</strong> ${currentTutor.name}<br>
                        <strong>üìö –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:</strong> ${currentTutor.subject}
                    </div>
                `;
            } else {
                studentInfo.innerHTML = `
                    <div class="warning-info">
                        ‚ö†Ô∏è <strong>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã</strong>
                    </div>
                `;
            }
        }

        // –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∑–∞–¥–∞–Ω–∏—è–º
        const assignmentsData = [
            {
                id: 42,
                title: "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ Student",
                description: "–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å Student —Å –º–µ—Ç–æ–¥–∞–º–∏: __init__, add_grade, get_average, __str__",
                topic: "–û–û–ü",
                subject: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",
                status: "overdue",
                deadline: "2025-12-18T21:00:00",
                created: "2025-12-15T10:00:00",
                tutor: "–ü–µ—Ç—Ä–æ–≤–∞ –ú.–°.",
                attachments: ["üìé –ó–∞–¥–∞–Ω–∏–µ.pdf", "üìÑ –®–∞–±–ª–æ–Ω.py"],
                submission: {
                    submitted: "2025-12-19T10:30:00",
                    type: "document",
                    file: "student_class.py",
                    comment: "–°–¥–µ–ª–∞–ª –≤—Å—ë –ø–æ –∑–∞–¥–∞–Ω–∏—é"
                }
            },
            {
                id: 43,
                title: "–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Python",
                description: "–ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è —á—Ç–µ–Ω–∏—è CSV —Ñ–∞–π–ª–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–ø–∏—Å–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞",
                topic: "–§–∞–π–ª—ã",
                subject: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",
                status: "pending",
                deadline: "2025-12-20T18:00:00",
                created: "2025-12-16T14:30:00",
                tutor: "–ü–µ—Ç—Ä–æ–≤–∞ –ú.–°.",
                attachments: ["üìé –£—Å–ª–æ–≤–∏–µ.docx"],
                submission: null
            },
            {
                id: 44,
                title: "–ê–ª–≥–æ—Ä–∏—Ç–º—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏",
                description: "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø—É–∑—ã—Ä—å–∫–æ–≤–æ–π –∏ –±—ã—Å—Ç—Ä–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Å—Ä–∞–≤–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
                topic: "–ê–ª–≥–æ—Ä–∏—Ç–º—ã",
                subject: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",
                status: "pending",
                deadline: "2025-12-22T15:00:00",
                created: "2025-12-17T09:00:00",
                tutor: "–ü–µ—Ç—Ä–æ–≤–∞ –ú.–°.",
                attachments: ["üìé –¢–µ–æ—Ä–∏—è.pdf", "üìÑ –ü—Ä–∏–º–µ—Ä—ã.py"],
                submission: null
            }
        ];

        // –î–∞–Ω–Ω—ã–µ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
        const materialsData = {
            topics: [
                {
                    id: 1,
                    name: "–û—Å–Ω–æ–≤—ã Python",
                    description: "–°–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã",
                    materials: 12,
                    progress: 95
                },
                {
                    id: 2,
                    name: "–†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏",
                    description: "–ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è",
                    materials: 8,
                    progress: 90
                },
                {
                    id: 3,
                    name: "–°–ø–∏—Å–∫–∏ –∏ –∫–æ—Ä—Ç–µ–∂–∏",
                    description: "–†–∞–±–æ—Ç–∞ —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏, –º–µ—Ç–æ–¥—ã, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã",
                    materials: 10,
                    progress: 85
                },
                {
                    id: 4,
                    name: "–û–û–ü",
                    description: "–ö–ª–∞—Å—Å—ã, –æ–±—ä–µ–∫—Ç—ã, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º",
                    materials: 15,
                    progress: 60
                },
                {
                    id: 5,
                    name: "–ê–ª–≥–æ—Ä–∏—Ç–º—ã",
                    description: "–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–æ–∏—Å–∫, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö",
                    materials: 20,
                    progress: 45
                }
            ],
            files: {
                "–û—Å–Ω–æ–≤—ã Python": [
                    { type: "pdf", title: "–°–∏–Ω—Ç–∞–∫—Å–∏—Å Python.pdf", size: "2.4 MB", uploaded: "15.12.2024" },
                    { type: "video", title: "–ü–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞.mp4", size: "45 MB", uploaded: "14.12.2024" },
                    { type: "doc", title: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è.docx", size: "1.2 MB", uploaded: "13.12.2024" }
                ],
                "–†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏": [
                    { type: "pdf", title: "–ú–µ—Ç–æ–¥—ã —Å—Ç—Ä–æ–∫.pdf", size: "1.8 MB", uploaded: "10.12.2024" },
                    { type: "link", title: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Python", url: "https://docs.python.org/3/library/stdtypes.html#string-methods" }
                ]
            }
        };

        // –î–∞–Ω–Ω—ã–µ –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
        const statsData = {
            overview: {
                totalAssignments: 40,
                completed: 24,
                inProgress: 3,
                overdue: 1,
                submitted: 12,
                accuracy: 85.5,
                avgCompletionTime: "2.3 –¥–Ω—è",
                onTimePercentage: 78.4
            },
            trends: {
                weekly: {
                    assignments: 5,
                    completed: 4,
                    trend: "+12%"
                },
                monthly: {
                    assignments: 15,
                    completed: 12,
                    trend: "+8%"
                }
            },
            predictions: {
                nextWeek: {
                    expectedAssignments: 6,
                    expectedCompletion: 5,
                    confidence: 85
                }
            }
        };

        function showSection(sectionName) {
            const messageContainer = document.getElementById('messageContainer');
            const typingIndicator = document.getElementById('typingIndicator');
            
            // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
            messageContainer.innerHTML = '';
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let sectionMessage;
                
                switch(sectionName) {
                    case 'assignments':
                        sectionMessage = createAssignmentsSection();
                        break;
                        
                    case 'materials':
                        sectionMessage = createMaterialsSection();
                        break;
                        
                    case 'stats':
                        sectionMessage = createStatsSection();
                        break;
                        
                    case 'tutors':
                        sectionMessage = createTutorsSection();
                        break;
                        
                    case 'profile':
                        sectionMessage = createProfileSection();
                        break;
                        
                    case 'addTutor':
                        sectionMessage = createAddTutorSection();
                        break;
                }
                
                messageContainer.appendChild(sectionMessage);
                setTimeout(() => {
                    scrollToElement(sectionMessage);
                }, 150);
                
            }, 800);
        }

        function createAssignmentsSection() {
            const currentTutor = studentData.tutors.find(t => t.current);
            let assignmentsHTML = `
                üìù <strong>–ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è</strong><br><br>
                ${currentTutor ? `
                    <div class="tutor-header">
                        <strong>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä:</strong> ${currentTutor.name}<br>
                        <strong>–ü—Ä–µ–¥–º–µ—Ç:</strong> ${currentTutor.subject}
                    </div><br>
                ` : ''}
                
                üìä <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞–Ω–∏–π:</strong><br>
                <div class="assignments-stats">
                    <div class="stat-row">
                        <span class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã–µ:</span>
                        <span class="stat-value active">${studentData.assignments.active}</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ:</span>
                        <span class="stat-value overdue">${studentData.assignments.overdue}</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–°–¥–∞–Ω–æ:</span>
                        <span class="stat-value submitted">${studentData.assignments.submitted}</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ:</span>
                        <span class="stat-value checking">${studentData.assignments.checking}</span>
                    </div>
                </div><br>
            `;

            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é –ø–æ —Ç–∏–ø–∞–º –∑–∞–¥–∞–Ω–∏–π
            assignmentsHTML += `
                <div class="materials-navigation">
                    <div class="nav-button" onclick="showAssignmentsList('active')">
                        <div class="nav-icon" style="background: var(--status-active);">üü°</div>
                        <div class="nav-info">
                            <div class="nav-title">–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</div>
                            <div class="nav-description">${studentData.assignments.active} –∑–∞–¥–∞–Ω–∏–π –≤ —Ä–∞–±–æ—Ç–µ</div>
                        </div>
                    </div>
                    <div class="nav-button" onclick="showAssignmentsList('overdue')">
                        <div class="nav-icon" style="background: var(--status-overdue);">üî¥</div>
                        <div class="nav-info">
                            <div class="nav-title">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ</div>
                            <div class="nav-description">${studentData.assignments.overdue} –∑–∞–¥–∞–Ω–∏–π —Å –∏—Å—Ç—ë–∫—à–∏–º —Å—Ä–æ–∫–æ–º</div>
                        </div>
                    </div>
                </div>
                
                <div class="materials-navigation">
                    <div class="nav-button" onclick="showAssignmentsList('submitted')">
                        <div class="nav-icon" style="background: var(--status-submitted);">üì§</div>
                        <div class="nav-info">
                            <div class="nav-title">–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ</div>
                            <div class="nav-description">${studentData.assignments.checking} –∑–∞–¥–∞–Ω–∏–π –æ–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</div>
                        </div>
                    </div>
                    <div class="nav-button" onclick="showAssignmentsList('completed')">
                        <div class="nav-icon" style="background: var(--status-completed);">‚úÖ</div>
                        <div class="nav-info">
                            <div class="nav-title">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</div>
                            <div class="nav-description">${studentData.assignments.completed} –∑–∞–¥–∞–Ω–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                        </div>
                    </div>
                </div>
            `;

            // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–µ–¥–ª–∞–π–Ω–æ–≤
            assignmentsHTML += `
                <br><strong>üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–µ–¥–ª–∞–π–Ω–æ–≤:</strong><br>
                <div class="deadline-calendar">
                    <div class="calendar-header">
                        <div class="calendar-title">–î–µ–∫–∞–±—Ä—å 2024</div>
                        <div class="calendar-nav">
                            <div class="nav-btn" onclick="changeCalendarMonth(-1)">‚Äπ</div>
                            <div class="nav-btn" onclick="changeCalendarMonth(1)">‚Ä∫</div>
                        </div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar will be generated by JS -->
                    </div>
                </div>
            `;

            assignmentsHTML += `
                <br>
                <div class="inline-buttons">
                    <button class="inline-button" onclick="showMainMenu()">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                    </button>
                    <button class="inline-button primary" onclick="submitAssignment()">
                        üì§ –°–¥–∞—Ç—å —Ä–∞–±–æ—Ç—É
                    </button>
                </div>
            `;

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
            setTimeout(() => {
                generateCalendar();
            }, 100);

            return createBotMessage(assignmentsHTML);
        }

        function createMaterialsSection() {
            const currentTutor = studentData.tutors.find(t => t.current);
            let materialsHTML = `
                üìö <strong>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</strong><br><br>
                ${currentTutor ? `
                    <div class="materials-header">
                        <strong>–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç:</strong> ${currentTutor.name}<br>
                        <strong>–ü–æ –ø—Ä–µ–¥–º–µ—Ç—É:</strong> ${currentTutor.subject}
                    </div><br>
                ` : ''}
                
                <strong>üìÅ –¢–µ–º—ã –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å:</strong><br>
                <div class="topics-list">
            `;

            // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ç–µ–º —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
            materialsData.topics.forEach(topic => {
                materialsHTML += `
                    <div class="topic-item" onclick="showTopicMaterials(${topic.id})">
                        <div class="topic-info">
                            <div class="topic-name">${topic.name}</div>
                            <div class="topic-stats">
                                <span>üìö ${topic.materials} –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</span>
                                <span>üìù ${topic.description}</span>
                            </div>
                        </div>
                        <div class="topic-progress">
                            <div class="progress-circle">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    <path class="circle-progress" 
                                          stroke-dasharray="${topic.progress}, 100"
                                          d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                </svg>
                                <div class="progress-percent">${topic.progress}%</div>
                            </div>
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                `;
            });

            materialsHTML += `
                </div><br>
                
                <div class="materials-navigation">
                    <div class="nav-button" onclick="downloadAllMaterials()">
                        <div class="nav-icon" style="background: var(--gradient-secondary);">üì•</div>
                        <div class="nav-info">
                            <div class="nav-title">–°–∫–∞—á–∞—Ç—å –≤—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</div>
                            <div class="nav-description">–ê—Ä—Ö–∏–≤ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤</div>
                        </div>
                    </div>
                    <div class="nav-button" onclick="searchMaterials()">
                        <div class="nav-icon" style="background: var(--gradient-accent);">üîç</div>
                        <div class="nav-info">
                            <div class="nav-title">–ü–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º</div>
                            <div class="nav-description">–ù–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</div>
                        </div>
                    </div>
                </div>
                
                <br>
                <div class="inline-buttons">
                    <button class="inline-button" onclick="showMainMenu()">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                    </button>
                    <button class="inline-button primary" onclick="requestNewMaterials()">
                        üì¨ –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
                    </button>
                </div>
            `;

            return createBotMessage(materialsHTML);
        }

        function createStatsSection() {
            const currentTutor = studentData.tutors.find(t => t.current);
            let statsHTML = `
                üìà <strong>–ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</strong><br><br>
                
                ${currentTutor ? `
                    <div class="stats-header">
                        <strong>üë®‚Äçüè´ –†–µ–ø–µ—Ç–∏—Ç–æ—Ä:</strong> ${currentTutor.name}<br>
                        <strong>üìö –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:</strong> ${currentTutor.subject}
                    </div><br>
                ` : ''}
                
                <div class="stats-container">
                    <div class="stat-box">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: rgba(52, 199, 89, 0.2); color: #34c759;">üìä</div>
                            <div>
                                <div class="stat-title">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</div>
                                <div class="stat-subtitle">–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</div>
                            </div>
                        </div>
                        <div class="stat-value">${statsData.overview.accuracy}%</div>
                        <div class="stat-label">${statsData.overview.completed} –∏–∑ ${statsData.overview.totalAssignments} –∑–∞–¥–∞–Ω–∏–π</div>
                        <div class="stat-trend">
                            <i class="fas fa-arrow-up trend-up"></i>
                            <span class="trend-up">+2.4% –∑–∞ –Ω–µ–¥–µ–ª—é</span>
                        </div>
                    </div>
                    
                    <div class="stat-box">
                        <div class="stat-header">
                            <div class="stat-icon" style="background: rgba(0, 122, 255, 0.2); color: #007aff;">‚è±Ô∏è</div>
                            <div>
                                <div class="stat-title">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è</div>
                                <div class="stat-subtitle">–í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è</div>
                            </div>
                        </div>
                        <div class="stat-value">${statsData.overview.avgCompletionTime}</div>
                        <div class="stat-label">–ë—ã—Å—Ç—Ä–µ–µ –Ω–∞ 0.5 –¥–Ω—è —á–µ–º –≤ —Å—Ä–µ–¥–Ω–µ–º</div>
                        <div class="stat-trend">
                            <i class="fas fa-arrow-down trend-down"></i>
                            <span class="trend-down">-0.2 –¥–Ω—è</span>
                        </div>
                    </div>
                </div>
                
                <div class="progress-chart">
                    <div class="chart-header">
                        <div class="chart-title">–î–∏–Ω–∞–º–∏–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</div>
                        <div class="chart-period">
                            <div class="period-btn active">–ù–µ–¥–µ–ª—è</div>
                            <div class="period-btn">–ú–µ—Å—è—Ü</div>
                            <div class="period-btn">–ö–≤–∞—Ä—Ç–∞–ª</div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <!-- –ì—Ä–∞—Ñ–∏–∫ –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω JS -->
                        <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                            <i class="fas fa-chart-line" style="font-size: 48px; margin-bottom: 15px; opacity: 0.5;"></i><br>
                            <em>–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞</em>
                        </div>
                    </div>
                </div>
                
                <div class="topics-list">
                    <strong>üìö –£—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å –ø–æ —Ç–µ–º–∞–º:</strong><br>
            `;

            materialsData.topics.forEach(topic => {
                const statusClass = topic.progress >= 80 ? 'excellent' : 
                                  topic.progress >= 60 ? 'good' : 
                                  topic.progress >= 40 ? 'average' : 'poor';
                
                statsHTML += `
                    <div class="topic-item">
                        <div class="topic-info">
                            <div class="topic-name">${topic.name}</div>
                            <div class="topic-stats">
                                <span>üìö ${topic.materials} –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</span>
                                <span>üìù ${topic.description}</span>
                            </div>
                        </div>
                        <div class="topic-progress">
                            <div class="progress-circle">
                                <svg viewBox="0 0 36 36">
                                    <path class="circle-bg" d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                    <path class="circle-progress" 
                                          stroke-dasharray="${topic.progress}, 100"
                                          d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                </svg>
                                <div class="progress-percent">${topic.progress}%</div>
                            </div>
                        </div>
                    </div>
                `;
            });

            statsHTML += `
                </div><br>
                
                <div class="notifications-panel">
                    <strong>üîî –ü–æ—Å–ª–µ–¥–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</strong><br>
            `;

            studentData.notifications.forEach(notification => {
                const icon = notification.type === 'assignment' ? 'üìù' : 
                            notification.type === 'check' ? '‚úÖ' : '‚è∞';
                const unreadClass = notification.unread ? 'unread' : '';
                
                statsHTML += `
                    <div class="notification-item ${unreadClass}">
                        <div class="notification-icon" style="background: rgba(0, 122, 255, 0.1);">${icon}</div>
                        <div class="notification-content">
                            <div class="notification-title">${notification.title}</div>
                            <div class="notification-text">${notification.text}</div>
                            <div class="notification-time">${notification.time}</div>
                        </div>
                    </div>
                `;
            });

            statsHTML += `
                </div><br>
                
                <div class="inline-buttons">
                    <button class="inline-button" onclick="showMainMenu()">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                    </button>
                    <button class="inline-button primary" onclick="exportStats()">
                        üì• –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                    </button>
                </div>
            `;

            return createBotMessage(statsHTML);
        }

        function createTutorsSection() {
            let tutorsHTML = `
                üë®‚Äçüè´ <strong>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã</strong><br><br>
                
                <div class="materials-navigation">
            `;

            studentData.tutors.forEach(tutor => {
                const isCurrent = tutor.current ? '‚úÖ' : 'üë®‚Äçüè´';
                const bgColor = tutor.current ? 'rgba(52, 199, 89, 0.2)' : 'rgba(0, 122, 255, 0.1)';
                const textColor = tutor.current ? '#34c759' : '#007aff';
                
                tutorsHTML += `
                    <div class="nav-button" onclick="showTutorDetails(${tutor.id})">
                        <div class="nav-icon" style="background: ${bgColor}; color: ${textColor};">${isCurrent}</div>
                        <div class="nav-info">
                            <div class="nav-title">${tutor.name}</div>
                            <div class="nav-description">${tutor.subject} ‚Ä¢ ${tutor.current ? '–¢–µ–∫—É—â–∏–π' : '–î–æ—Å—Ç—É–ø–µ–Ω'}</div>
                        </div>
                    </div>
                `;
            });

            tutorsHTML += `
                </div><br>
                
                <div class="notifications-panel">
                    <strong>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º:</strong><br>
                    
                    <div class="stats-container" style="grid-template-columns: 1fr; margin: 15px 0;">
                        <div class="stat-box">
                            <div class="stat-header">
                                <div class="stat-icon" style="background: rgba(88, 86, 214, 0.2); color: #5856d6;">üë•</div>
                                <div>
                                    <div class="stat-title">–í—Å–µ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤</div>
                                    <div class="stat-subtitle">–ü–æ –≤—Å–µ–º –ø—Ä–µ–¥–º–µ—Ç–∞–º</div>
                                </div>
                            </div>
                            <div class="stat-value">${studentData.tutors.length}</div>
                            <div class="stat-label">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë ${Math.max(0, 5 - studentData.tutors.length)}</div>
                        </div>
                    </div>
                </div>
                
                <div class="inline-buttons">
                    <button class="inline-button" onclick="showMainMenu()">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                    </button>
                    <button class="inline-button primary" onclick="showSection('addTutor')">
                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞
                    </button>
                </div>
            `;

            return createBotMessage(tutorsHTML);
        }

        function createProfileSection() {
            let profileHTML = `
                ‚öôÔ∏è <strong>–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</strong><br><br>
                
                <div class="material-detail">
                    <div class="material-header">
                        <div class="material-icon" style="background: var(--gradient-primary);">üë§</div>
                        <div>
                            <div class="material-title">${studentData.fullName}</div>
                            <div class="material-meta">üë®‚Äçüéì –£—á–µ–Ω–∏–∫ ‚Ä¢ –ê–∫—Ç–∏–≤–µ–Ω 3 –º–µ—Å—è—Ü–∞</div>
                        </div>
                    </div>
                    
                    <div class="material-content">
                        <div class="profile-info">
                            <div class="profile-field">
                                <span class="field-label">üìõ –§–ò–û:</span>
                                <span class="field-value">${studentData.fullName}</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã:</span>
                                <span class="field-value">+7 (999) 123-45-67, student@mail.ru</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">üë®‚Äçüè´ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤:</span>
                                <span class="field-value">${studentData.tutors.length}</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">üìä –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:</span>
                                <span class="field-value">${studentData.progress}%</span>
                            </div>
                            <div class="profile-field">
                                <span class="field-label">üïí –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</span>
                                <span class="field-value">${studentData.recentActivity}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="material-actions">
                        <button class="inline-button" onclick="editProfile()">
                            ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <button class="inline-button" onclick="changeContacts()">
                            üì± –ö–æ–Ω—Ç–∞–∫—Ç—ã
                        </button>
                        <button class="inline-button danger" onclick="deleteAccount()">
                            üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                        </button>
                    </div>
                </div>
                
                <div class="materials-navigation">
                    <div class="nav-button" onclick="showSecuritySettings()">
                        <div class="nav-icon" style="background: rgba(255, 149, 0, 0.2); color: #ff9500;">üîí</div>
                        <div class="nav-info">
                            <div class="nav-title">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</div>
                            <div class="nav-description">–ü–∞—Ä–æ–ª—å, 2FA, —Å–µ—Å—Å–∏–∏</div>
                        </div>
                    </div>
                    <div class="nav-button" onclick="showNotificationSettings()">
                        <div class="nav-icon" style="background: rgba(88, 86, 214, 0.2); color: #5856d6;">üîî</div>
                        <div class="nav-info">
                            <div class="nav-title">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
                            <div class="nav-description">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–æ–≤–µ—â–µ–Ω–∏–π</div>
                        </div>
                    </div>
                </div>
                
                <br>
                <div class="inline-buttons">
                    <button class="inline-button" onclick="showMainMenu()">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                    </button>
                </div>
            `;

            return createBotMessage(profileHTML);
        }

        function createAddTutorSection() {
            return createBotMessage(`
                ‚ûï <strong>–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞</strong><br><br>
                
                <div class="material-detail">
                    <div class="material-header">
                        <div class="material-icon" style="background: var(--gradient-secondary);">üîë</div>
                        <div>
                            <div class="material-title">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Ç–æ–∫–µ–Ω—É</div>
                            <div class="material-meta">–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞</div>
                        </div>
                    </div>
                    
                    <div class="material-content">
                        <p>–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ –≤–∞–º –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä.</p>
                        
                        <div class="token-instructions">
                            <strong>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong><br>
                            1. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ —Ä–∞–∑–¥–µ–ª–µ "‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞"<br>
                            2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω (—Ñ–æ—Ä–º–∞—Ç: ABCD-EFGH)<br>
                            3. –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –Ω–∏–∂–µ<br>
                            4. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
                        </div><br>
                        
                        <div class="input-wrapper">
                            <input type="text" id="tutorToken" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: ABCD-EFGH)" 
                                   onkeypress="handleTokenEnter(event)">
                            <button class="inline-button small" onclick="submitToken()">
                                –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                            </button>
                        </div><br>
                        
                        <div class="example-token">
                            <strong>–ü—Ä–∏–º–µ—Ä —Ç–æ–∫–µ–Ω–∞:</strong><br>
                            <code>ABCD-1234</code> –∏–ª–∏ <code>EFGH-5678</code>
                        </div>
                    </div>
                </div>
                
                <div class="materials-navigation">
                    <div class="nav-button" onclick="resendTokenInstructions()">
                        <div class="nav-icon" style="background: rgba(255, 149, 0, 0.2); color: #ff9500;">üìß</div>
                        <div class="nav-info">
                            <div class="nav-title">–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é</div>
                            <div class="nav-description">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É</div>
                        </div>
                    </div>
                    <div class="nav-button" onclick="showQRConnect()">
                        <div class="nav-icon" style="background: rgba(52, 199, 89, 0.2); color: #34c759;">üì±</div>
                        <div class="nav-info">
                            <div class="nav-title">QR-–∫–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</div>
                            <div class="nav-description">–ë—ã—Å—Ç—Ä–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</div>
                        </div>
                    </div>
                </div>
                
                <br>
                <div class="inline-buttons">
                    <button class="inline-button" onclick="showMainMenu()">
                        ‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é
                    </button>
                </div>
            `);
        }

        // ===== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====

        function generateCalendar() {
            const calendarGrid = document.getElementById('calendarGrid');
            if (!calendarGrid) return;

            const days = ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'];
            let calendarHTML = '';

            // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π
            days.forEach(day => {
                calendarHTML += `<div class="calendar-day header">${day}</div>`;
            });

            // –Ø—á–µ–π–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
            const today = new Date();
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);

            // –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è
            for (let i = 0; i < firstDay.getDay(); i++) {
                calendarHTML += `<div class="calendar-day"></div>`;
            }

            // –î–Ω–∏ –º–µ—Å—è—Ü–∞
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const date = new Date(today.getFullYear(), today.getMonth(), day);
                let dayClass = 'calendar-day';
                
                if (day === today.getDate()) {
                    dayClass += ' today';
                }
                
                // –ü—Ä–∏–º–µ—Ä: 18 –¥–µ–∫–∞–±—Ä—è - –¥–µ–¥–ª–∞–π–Ω
                if (day === 18) {
                    dayClass += ' overdue';
                }
                
                // –ü—Ä–∏–º–µ—Ä: 20 –∏ 22 –¥–µ–∫–∞–±—Ä—è - –µ—Å—Ç—å –¥–µ–¥–ª–∞–π–Ω—ã
                if (day === 20 || day === 22) {
                    dayClass += ' has-deadline';
                }

                calendarHTML += `<div class="${dayClass}">${day}</div>`;
            }

            calendarGrid.innerHTML = calendarHTML;
        }

        function changeCalendarMonth(delta) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Å–º–µ–Ω–∞ –º–µ—Å—è—Ü–∞
            alert(`–ö–∞–ª–µ–Ω–¥–∞—Ä—å: —Å–º–µ–Ω–∞ –Ω–∞ ${delta > 0 ? '—Å–ª–µ–¥—É—é—â–∏–π' : '–ø—Ä–µ–¥—ã–¥—É—â–∏–π'} –º–µ—Å—è—Ü`);
        }

        function showAssignmentsList(filter) {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage(`–ü–æ–∫–∞–∑–∞—Ç—å ${filter} –∑–∞–¥–∞–Ω–∏—è`);
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let filteredAssignments = assignmentsData.filter(a => {
                    if (filter === 'overdue') return a.status === 'overdue';
                    if (filter === 'active') return a.status === 'pending';
                    if (filter === 'submitted') return a.submission !== null;
                    return true;
                });

                let listHTML = `
                    üìã <strong>${getFilterTitle(filter)}</strong><br><br>
                `;

                if (filteredAssignments.length === 0) {
                    listHTML += `<em>–ù–µ—Ç –∑–∞–¥–∞–Ω–∏–π –≤ —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</em><br><br>`;
                } else {
                    filteredAssignments.forEach(assignment => {
                        const statusIcon = getStatusIcon(assignment.status);
                        const deadlineText = formatDeadline(assignment.deadline);
                        
                        listHTML += `
                            <div class="assignment-item ${assignment.status}">
                                <strong>${statusIcon} #${assignment.id} - ${assignment.title}</strong><br>
                                <span>üìÖ ${deadlineText}</span><br>
                                <span>üìö ${assignment.topic} ‚Ä¢ ${assignment.tutor}</span>
                                <div class="assignment-actions" style="margin-top: 8px;">
                                    <button class="inline-button small" onclick="viewAssignmentDetails(${assignment.id})">
                                        üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å
                                    </button>
                                    ${assignment.status === 'pending' ? `
                                        <button class="inline-button small primary" onclick="submitSpecificAssignment(${assignment.id})">
                                            üì§ –°–¥–∞—Ç—å
                                        </button>
                                    ` : ''}
                                </div>
                            </div>
                        `;
                    });
                }

                listHTML += `
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('assignments')">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞–Ω–∏—è–º
                        </button>
                    </div>
                `;

                const listMessage = createBotMessage(listHTML);
                messageContainer.appendChild(listMessage);
                scrollToElement(listMessage);
            }, 800);
        }

        function getFilterTitle(filter) {
            const titles = {
                'active': '–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è',
                'overdue': '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è',
                'submitted': '–ó–∞–¥–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ',
                'completed': '–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è'
            };
            return titles[filter] || '–ó–∞–¥–∞–Ω–∏—è';
        }

        function getStatusIcon(status) {
            const icons = {
                'pending': 'üü°',
                'overdue': 'üî¥',
                'submitted': 'üì§',
                'completed': '‚úÖ'
            };
            return icons[status] || 'üìù';
        }

        function formatDeadline(deadlineStr) {
            const deadline = new Date(deadlineStr);
            const now = new Date();
            const diffDays = Math.ceil((deadline - now) / (1000 * 60 * 60 * 24));
            
            if (diffDays < 0) {
                return `‚åõ –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ ${Math.abs(diffDays)} –¥–Ω–µ–π –Ω–∞–∑–∞–¥`;
            } else if (diffDays === 0) {
                return `‚è∞ –°–µ–≥–æ–¥–Ω—è –≤ ${deadline.getHours().toString().padStart(2, '0')}:${deadline.getMinutes().toString().padStart(2, '0')}`;
            } else if (diffDays === 1) {
                return `‚è∞ –ó–∞–≤—Ç—Ä–∞ –≤ ${deadline.getHours().toString().padStart(2, '0')}:${deadline.getMinutes().toString().padStart(2, '0')}`;
            } else {
                return `‚è∞ –ß–µ—Ä–µ–∑ ${diffDays} –¥–Ω–µ–π (${deadline.getDate().toString().padStart(2, '0')}.${(deadline.getMonth() + 1).toString().padStart(2, '0')})`;
            }
        }

        function showTopicMaterials(topicId) {
            const topic = materialsData.topics.find(t => t.id === topicId);
            if (!topic) return;

            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage(`–ú–∞—Ç–µ—Ä–∏–∞–ª—ã: ${topic.name}`);
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let materialsHTML = `
                    üìö <strong>${topic.name}</strong><br>
                    <em>${topic.description}</em><br><br>
                    
                    <div class="material-detail">
                        <div class="material-header">
                            <div class="material-icon" style="background: var(--gradient-primary);">üìö</div>
                            <div>
                                <div class="material-title">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ —Ç–µ–º–µ</div>
                                <div class="material-meta">${topic.materials} –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ ‚Ä¢ –ü—Ä–æ–≥—Ä–µ—Å—Å: ${topic.progress}%</div>
                            </div>
                        </div>
                        
                        <div class="material-content">
                `;

                const files = materialsData.files[topic.name] || [];
                if (files.length === 0) {
                    materialsHTML += `<p>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ —ç—Ç–æ–π —Ç–µ–º–µ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>`;
                } else {
                    files.forEach(file => {
                        if (file.type === 'link') {
                            materialsHTML += `
                                <div class="material-file">
                                    <strong>üîó ${file.title}</strong><br>
                                    <a href="${file.url}" target="_blank" style="color: var(--text-accent);">${file.url}</a>
                                </div>
                            `;
                        } else {
                            const icon = file.type === 'pdf' ? 'üìé' : 
                                       file.type === 'video' ? 'üé•' : 'üìÑ';
                            materialsHTML += `
                                <div class="material-file">
                                    <strong>${icon} ${file.title}</strong><br>
                                    <span style="font-size: 13px; color: var(--text-secondary);">
                                        üì¶ ${file.size} ‚Ä¢ üìÖ ${file.uploaded}
                                    </span>
                                    <div style="margin-top: 8px;">
                                        <button class="inline-button small" onclick="downloadMaterial('${file.title}')">
                                            üì• –°–∫–∞—á–∞—Ç—å
                                        </button>
                                        <button class="inline-button small" onclick="previewMaterial('${file.title}')">
                                            üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å
                                        </button>
                                    </div>
                                </div>
                            `;
                        }
                    });
                }

                materialsHTML += `
                        </div>
                    </div>
                    
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('materials')">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
                        </button>
                        <button class="inline-button" onclick="markTopicAsCompleted(${topicId})">
                            ‚úÖ –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∏–∑—É—á–µ–Ω–Ω–æ–µ
                        </button>
                    </div>
                `;

                const materialsMessage = createBotMessage(materialsHTML);
                messageContainer.appendChild(materialsMessage);
                scrollToElement(materialsMessage);
            }, 800);
        }

        function showTutorDetails(tutorId) {
            const tutor = studentData.tutors.find(t => t.id === tutorId);
            if (!tutor) return;

            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage(`–†–µ–ø–µ—Ç–∏—Ç–æ—Ä: ${tutor.name}`);
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                let tutorHTML = `
                    üë®‚Äçüè´ <strong>${tutor.name}</strong><br>
                    <em>${tutor.subject} ‚Ä¢ ${tutor.current ? '–¢–µ–∫—É—â–∏–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä' : '–î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã'}</em><br><br>
                    
                    <div class="material-detail">
                        <div class="material-header">
                            <div class="material-icon" style="background: ${tutor.current ? 'var(--gradient-secondary)' : 'var(--gradient-primary)'};">üë®‚Äçüè´</div>
                            <div>
                                <div class="material-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–µ</div>
                                <div class="material-meta">${tutor.active ? '‚úÖ –ê–∫—Ç–∏–≤–µ–Ω' : '‚è∏Ô∏è –ù–µ–∞–∫—Ç–∏–≤–µ–Ω'}</div>
                            </div>
                        </div>
                        
                        <div class="material-content">
                            <div class="profile-info">
                                <div class="profile-field">
                                    <span class="field-label">üë®‚Äçüè´ –ò–º—è:</span>
                                    <span class="field-value">${tutor.name}</span>
                                </div>
                                <div class="profile-field">
                                    <span class="field-label">üìö –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:</span>
                                    <span class="field-value">${tutor.subject}</span>
                                </div>
                                <div class="profile-field">
                                    <span class="field-label">üìÖ –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã:</span>
                                    <span class="field-value">3 –º–µ—Å—è—Ü–∞ –Ω–∞–∑–∞–¥</span>
                                </div>
                                <div class="profile-field">
                                    <span class="field-label">üìù –ó–∞–¥–∞–Ω–∏–π —Å–æ–∑–¥–∞–Ω–æ:</span>
                                    <span class="field-value">${assignmentsData.length}</span>
                                </div>
                                <div class="profile-field">
                                    <span class="field-label">‚≠ê –†–µ–π—Ç–∏–Ω–≥:</span>
                                    <span class="field-value">4.8/5.0</span>
                                </div>
                            </div>
                            
                            <div class="material-file" style="margin-top: 20px;">
                                <strong>üìù –û —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–µ:</strong><br>
                                –û–ø—ã—Ç–Ω—ã–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Å 5-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –ï–ì–≠ –∏ –æ–ª–∏–º–ø–∏–∞–¥–∞–º. 
                                –ë–æ–ª–µ–µ 50 —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤.
                            </div>
                        </div>
                        
                        <div class="material-actions">
                            ${!tutor.current ? `
                                <button class="inline-button primary" onclick="switchToTutor(${tutorId})">
                                    ‚úÖ –°–¥–µ–ª–∞—Ç—å —Ç–µ–∫—É—â–∏–º
                                </button>
                            ` : ''}
                            <button class="inline-button ${tutor.current ? 'danger' : ''}" onclick="${tutor.current ? 'removeCurrentTutor()' : `removeTutor(${tutorId})`}">
                                ${tutor.current ? '‚ùå –û—Ç–∫–ª—é—á–∏—Ç—å' : 'üóëÔ∏è –£–¥–∞–ª–∏—Ç—å'}
                            </button>
                            <button class="inline-button" onclick="contactTutor(${tutorId})">
                                üìû –°–≤—è–∑–∞—Ç—å—Å—è
                            </button>
                        </div>
                    </div>
                    
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('tutors')">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º
                        </button>
                    </div>
                `;

                const tutorMessage = createBotMessage(tutorHTML);
                messageContainer.appendChild(tutorMessage);
                scrollToElement(tutorMessage);
            }, 800);
        }

        // ===== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø =====

        function viewAssignmentDetails(assignmentId) {
            const assignment = assignmentsData.find(a => a.id === assignmentId);
            if (!assignment) return;

            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage(`–ó–∞–¥–∞–Ω–∏–µ #${assignmentId}`);
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                const statusIcon = getStatusIcon(assignment.status);
                const deadlineText = formatDeadline(assignment.deadline);
                const createdText = new Date(assignment.created).toLocaleDateString('ru-RU');
                
                let detailsHTML = `
                    üìù <strong>${statusIcon} –ó–ê–î–ê–ù–ò–ï #${assignmentId}</strong><br>
                    <em>${assignment.title}</em><br><br>
                    
                    <div class="material-detail">
                        <div class="material-header">
                            <div class="material-icon" style="background: var(--gradient-primary);">üìù</div>
                            <div>
                                <div class="material-title">${assignment.title}</div>
                                <div class="material-meta">${assignment.topic} ‚Ä¢ ${assignment.tutor}</div>
                            </div>
                        </div>
                        
                        <div class="material-content">
                            <strong>üìã –û–ø–∏—Å–∞–Ω–∏–µ:</strong><br>
                            ${assignment.description}<br><br>
                            
                            <div class="profile-info">
                                <div class="profile-field">
                                    <span class="field-label">üìÖ –°–æ–∑–¥–∞–Ω–æ:</span>
                                    <span class="field-value">${createdText}</span>
                                </div>
                                <div class="profile-field">
                                    <span class="field-label">‚è∞ –°—Ä–æ–∫ —Å–¥–∞—á–∏:</span>
                                    <span class="field-value">${deadlineText}</span>
                                </div>
                                <div class="profile-field">
                                    <span class="field-label">üìä –°—Ç–∞—Ç—É—Å:</span>
                                    <span class="field-value ${assignment.status}">${getStatusText(assignment.status)}</span>
                                </div>
                            </div>
                `;

                if (assignment.attachments && assignment.attachments.length > 0) {
                    detailsHTML += `<br><strong>üìÅ –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:</strong><br>`;
                    assignment.attachments.forEach(attachment => {
                        detailsHTML += `<div style="margin: 5px 0;">${attachment}</div>`;
                    });
                }

                if (assignment.submission) {
                    const submittedText = new Date(assignment.submission.submitted).toLocaleString('ru-RU');
                    detailsHTML += `
                        <br><div class="material-file" style="background: rgba(52, 199, 89, 0.1);">
                            <strong>üì§ –†–∞–±–æ—Ç–∞ —Å–¥–∞–Ω–∞:</strong><br>
                            <span>üìÖ ${submittedText}</span><br>
                            <span>üìÑ ${assignment.submission.file}</span><br>
                            <span>üí≠ ${assignment.submission.comment}</span>
                        </div>
                    `;
                }

                detailsHTML += `
                        </div>
                        
                        <div class="material-actions">
                            ${assignment.status === 'pending' ? `
                                <button class="inline-button primary" onclick="submitSpecificAssignment(${assignmentId})">
                                    üì§ –°–¥–∞—Ç—å —Ä–∞–±–æ—Ç—É
                                </button>
                            ` : ''}
                            <button class="inline-button" onclick="askQuestionAboutAssignment(${assignmentId})">
                                ‚ùì –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
                            </button>
                            ${assignment.attachments && assignment.attachments.length > 0 ? `
                                <button class="inline-button" onclick="downloadAssignmentFiles(${assignmentId})">
                                    üì• –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª—ã
                                </button>
                            ` : ''}
                        </div>
                    </div>
                    
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showAssignmentsList('${assignment.status}')">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞–Ω–∏—è–º
                        </button>
                    </div>
                `;

                const detailsMessage = createBotMessage(detailsHTML);
                messageContainer.appendChild(detailsMessage);
                scrollToElement(detailsMessage);
            }, 800);
        }

        function getStatusText(status) {
            const texts = {
                'pending': '–í —Ä–∞–±–æ—Ç–µ',
                'overdue': '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ',
                'submitted': '–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ',
                'completed': '–í—ã–ø–æ–ª–Ω–µ–Ω–æ'
            };
            return texts[status] || status;
        }

        function submitAssignment() {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–°–¥–∞—Ç—å —Ä–∞–±–æ—Ç—É");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const submitMessage = createBotMessage(`
                    üì§ <strong>–°–¥–∞—á–∞ —Ä–∞–±–æ—Ç—ã</strong><br><br>
                    –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ—Ç–ø—Ä–∞–≤–∫–∏:<br><br>
                    <div class="materials-navigation">
                        <div class="nav-button" onclick="submitPhoto()">
                            <div class="nav-icon" style="background: rgba(52, 199, 89, 0.2); color: #34c759;">üì∏</div>
                            <div class="nav-info">
                                <div class="nav-title">–§–æ—Ç–æ</div>
                                <div class="nav-description">–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ</div>
                            </div>
                        </div>
                        <div class="nav-button" onclick="submitDocument()">
                            <div class="nav-icon" style="background: rgba(0, 122, 255, 0.2); color: #007aff;">üìé</div>
                            <div class="nav-info">
                                <div class="nav-title">–î–æ–∫—É–º–µ–Ω—Ç</div>
                                <div class="nav-description">PDF, Word, Excel –∏ –¥—Ä.</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="materials-navigation">
                        <div class="nav-button" onclick="submitText()">
                            <div class="nav-icon" style="background: rgba(255, 149, 0, 0.2); color: #ff9500;">üìù</div>
                            <div class="nav-info">
                                <div class="nav-title">–¢–µ–∫—Å—Ç</div>
                                <div class="nav-description">–¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç</div>
                            </div>
                        </div>
                        <div class="nav-button" onclick="submitCode()">
                            <div class="nav-icon" style="background: rgba(88, 86, 214, 0.2); color: #5856d6;">üíª</div>
                            <div class="nav-info">
                                <div class="nav-title">–ö–æ–¥</div>
                                <div class="nav-description">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã</div>
                            </div>
                        </div>
                    </div>
                    
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('assignments')">
                            ‚Üê –û—Ç–º–µ–Ω–∞
                        </button>
                    </div>
                `);
                messageContainer.appendChild(submitMessage);
                setTimeout(() => {
                    scrollToElement(submitMessage);
                }, 150);
            }, 800);
        }

        function submitSpecificAssignment(assignmentId) {
            const assignment = assignmentsData.find(a => a.id === assignmentId);
            if (!assignment) return;

            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage(`–°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ #${assignmentId}`);
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const submitMessage = createBotMessage(`
                    üì§ <strong>–°–¥–∞—á–∞ –∑–∞–¥–∞–Ω–∏—è #${assignmentId}</strong><br>
                    <em>${assignment.title}</em><br><br>
                    
                    ${formatDeadline(assignment.deadline)}<br><br>
                    
                    <div class="materials-navigation">
                        <div class="nav-button" onclick="submitPhotoForAssignment(${assignmentId})">
                            <div class="nav-icon" style="background: rgba(52, 199, 89, 0.2); color: #34c759;">üì∏</div>
                            <div class="nav-info">
                                <div class="nav-title">–§–æ—Ç–æ</div>
                                <div class="nav-description">–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ</div>
                            </div>
                        </div>
                        <div class="nav-button" onclick="submitDocumentForAssignment(${assignmentId})">
                            <div class="nav-icon" style="background: rgba(0, 122, 255, 0.2); color: #007aff;">üìé</div>
                            <div class="nav-info">
                                <div class="nav-title">–î–æ–∫—É–º–µ–Ω—Ç</div>
                                <div class="nav-description">PDF, Word, Excel –∏ –¥—Ä.</div>
                            </div>
                        </div>
                    </div>
                    
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="viewAssignmentDetails(${assignmentId})">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ –∑–∞–¥–∞–Ω–∏—é
                        </button>
                    </div>
                `);
                messageContainer.appendChild(submitMessage);
                setTimeout(() => {
                    scrollToElement(submitMessage);
                }, 150);
            }, 800);
        }

        function submitPhoto() {
            simulateFileUpload('üì∏ –§–æ—Ç–æ', 'photo');
        }

        function submitDocument() {
            simulateFileUpload('üìé –î–æ–∫—É–º–µ–Ω—Ç', 'document');
        }

        function submitText() {
            simulateFileUpload('üìù –¢–µ–∫—Å—Ç', 'text');
        }

        function submitCode() {
            simulateFileUpload('üíª –ö–æ–¥', 'code');
        }

        function simulateFileUpload(type, fileType) {
            const messageContainer = document.getElementById('messageContainer');
            messageContainer.innerHTML += `
                <div class="simulated-attachment">
                    ${type} <em>–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏...</em>
                    <div class="upload-progress" style="width: 100%; height: 4px; background: rgba(118, 118, 128, 0.2); border-radius: 2px; margin-top: 8px; overflow: hidden;">
                        <div class="progress-bar" style="width: 0%; height: 100%; background: var(--gradient-primary); transition: width 2s ease;"></div>
                    </div>
                </div>
            `;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                const progressBar = document.querySelector('.progress-bar');
                if (progressBar) {
                    progressBar.style.width = '100%';
                }
            }, 100);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const successMessage = createBotMessage(`
                    ‚úÖ <strong>–†–∞–±–æ—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</strong><br><br>
                    <div class="submission-info">
                        <strong>–ß—Ç–æ —Å–¥–∞–Ω–æ:</strong> –ó–∞–¥–∞–Ω–∏–µ<br>
                        <strong>–¢–∏–ø —Ä–∞–±–æ—Ç—ã:</strong> ${type}<br>
                        <strong>–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏:</strong> ${getCurrentTime()}<br><br>
                        üìù <em>–ó–∞–¥–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º.<br>
                        –í—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞.</em>
                    </div><br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('assignments')">
                            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∑–∞–¥–∞–Ω–∏—è–º
                        </button>
                    </div>
                `);
                messageContainer.appendChild(successMessage);
                setTimeout(() => {
                    scrollToElement(successMessage);
                }, 150);
            }, 2500);
        }

        function requestNewMaterials() {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const requestMessage = createBotMessage(`
                    üì¨ <strong>–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</strong><br><br>
                    –í–∞—à —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –ø–æ–ª—É—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø—Ä–æ—Å–µ –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.<br>
                    –û–±—ã—á–Ω–æ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.<br><br>
                    
                    <div class="material-file" style="background: rgba(255, 149, 0, 0.1);">
                        <strong>üí° –°–æ–≤–µ—Ç:</strong><br>
                        –£–∫–∞–∂–∏—Ç–µ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤–∞–º –Ω—É–∂–Ω—ã:
                        <ul style="margin: 10px 0; padding-left: 20px;">
                            <li>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç–µ–º–∞</li>
                            <li>–¢–∏–ø –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–≤–∏–¥–µ–æ, —Ç–µ–∫—Å—Ç, –ø—Ä–∞–∫—Ç–∏–∫–∞)</li>
                            <li>–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</li>
                        </ul>
                    </div><br>
                    
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('materials')">
                            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
                        </button>
                        <button class="inline-button" onclick="sendDetailedRequest()">
                            üìù –û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å
                        </button>
                    </div>
                `);
                messageContainer.appendChild(requestMessage);
                setTimeout(() => {
                    scrollToElement(requestMessage);
                }, 150);
            }, 800);
        }

        function exportStats() {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const exportMessage = createBotMessage(`
                    üì• <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞!</strong><br><br>
                    <div class="export-options">
                        <strong>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</strong><br><br>
                        <div class="materials-navigation">
                            <div class="nav-button" onclick="downloadPDFReport()">
                                <div class="nav-icon" style="background: rgba(255, 59, 48, 0.2); color: #ff3b30;">üìÑ</div>
                                <div class="nav-info">
                                    <div class="nav-title">PDF –æ—Ç—á–µ—Ç</div>
                                    <div class="nav-description">–î–ª—è –ø–æ–∫–∞–∑–∞ —Ä–æ–¥–∏—Ç–µ–ª—è–º</div>
                                </div>
                            </div>
                            <div class="nav-button" onclick="downloadExcelReport()">
                                <div class="nav-icon" style="background: rgba(52, 199, 89, 0.2); color: #34c759;">üìä</div>
                                <div class="nav-info">
                                    <div class="nav-title">Excel —Ç–∞–±–ª–∏—Ü–∞</div>
                                    <div class="nav-description">–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="materials-navigation">
                            <div class="nav-button" onclick="downloadCharts()">
                                <div class="nav-icon" style="background: rgba(0, 122, 255, 0.2); color: #007aff;">üìà</div>
                                <div class="nav-info">
                                    <div class="nav-title">–ì—Ä–∞—Ñ–∏–∫–∏</div>
                                    <div class="nav-description">PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
                                </div>
                            </div>
                            <div class="nav-button" onclick="downloadTextReport()">
                                <div class="nav-icon" style="background: rgba(88, 86, 214, 0.2); color: #5856d6;">üìù</div>
                                <div class="nav-info">
                                    <div class="nav-title">–¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç</div>
                                    <div class="nav-description">–ü–æ–¥—Ä–æ–±–Ω—ã–π —Ç–µ–∫—Å—Ç</div>
                                </div>
                            </div>
                        </div>
                    </div><br>
                    
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('stats')">
                            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
                        </button>
                        <button class="inline-button primary" onclick="sendReportToEmail()">
                            üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ email
                        </button>
                    </div>
                `);
                messageContainer.appendChild(exportMessage);
                setTimeout(() => {
                    scrollToElement(exportMessage);
                }, 150);
            }, 800);
        }

        function switchToTutor(tutorId) {
            studentData.tutors.forEach(tutor => {
                tutor.current = tutor.id === tutorId;
            });
            
            updateStudentInfo();
            
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–°–¥–µ–ª–∞—Ç—å —Ç–µ–∫—É—â–∏–º —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const successMessage = createBotMessage(`
                    ‚úÖ <strong>–¢–µ–∫—É—â–∏–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω!</strong><br><br>
                    –¢–µ–ø–µ—Ä—å –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º –∫–∞–∫ —Å –æ—Å–Ω–æ–≤–Ω—ã–º.<br>
                    –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞.<br><br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('tutors')">
                            ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º
                        </button>
                    </div>
                `);
                messageContainer.appendChild(successMessage);
                setTimeout(() => {
                    scrollToElement(successMessage);
                }, 150);
            }, 800);
        }

        function removeTutor(tutorId) {
            if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞?")) {
                studentData.tutors = studentData.tutors.filter(t => t.id !== tutorId);
                
                const messageContainer = document.getElementById('messageContainer');
                const userMessage = createUserMessage("–£–¥–∞–ª–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞");
                messageContainer.appendChild(userMessage);
                
                showTypingIndicator();
                
                setTimeout(() => {
                    hideTypingIndicator();
                    const successMessage = createBotMessage(`
                        ‚úÖ <strong>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä —É–¥–∞–ª–µ–Ω –∏–∑ —Å–ø–∏—Å–∫–∞!</strong><br><br>
                        –í—ã –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç —ç—Ç–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞.<br>
                        –í—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∞—Ä—Ö–∏–≤–µ.<br><br>
                        <div class="inline-buttons">
                            <button class="inline-button" onclick="showSection('tutors')">
                                ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º
                            </button>
                        </div>
                    `);
                    messageContainer.appendChild(successMessage);
                    setTimeout(() => {
                        scrollToElement(successMessage);
                    }, 150);
                }, 800);
            }
        }

        function removeCurrentTutor() {
            if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞? –≠—Ç–æ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤–∞—à–µ –æ–±—É—á–µ–Ω–∏–µ.")) {
                const currentTutor = studentData.tutors.find(t => t.current);
                if (currentTutor) {
                    currentTutor.current = false;
                    currentTutor.active = false;
                }
                updateStudentInfo();
                
                const messageContainer = document.getElementById('messageContainer');
                const userMessage = createUserMessage("–û—Ç–∫–ª—é—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞");
                messageContainer.appendChild(userMessage);
                
                showTypingIndicator();
                
                setTimeout(() => {
                    hideTypingIndicator();
                    const successMessage = createBotMessage(`
                        ‚ö†Ô∏è <strong>–¢–µ–∫—É—â–∏–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –æ—Ç–∫–ª—é—á–µ–Ω!</strong><br><br>
                        –í—ã –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ—Ç —ç—Ç–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞.<br>
                        –î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–≥–æ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞.<br><br>
                        <div class="inline-buttons">
                            <button class="inline-button" onclick="showSection('tutors')">
                                ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º
                            </button>
                        </div>
                    `);
                    messageContainer.appendChild(successMessage);
                    setTimeout(() => {
                        scrollToElement(successMessage);
                    }, 150);
                }, 800);
            }
        }

        function editProfile() {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const editMessage = createBotMessage(`
                    ‚úèÔ∏è <strong>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</strong><br><br>
                    <div class="material-detail">
                        <div class="material-header">
                            <div class="material-icon" style="background: var(--gradient-primary);">üë§</div>
                            <div>
                                <div class="material-title">–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
                                <div class="material-meta">–û–±–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è</div>
                            </div>
                        </div>
                        
                        <div class="material-content">
                            <div class="input-wrapper" style="flex-direction: column; gap: 15px;">
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 13px; color: var(--text-secondary);">üìõ –§–ò–û:</label>
                                    <input type="text" id="newName" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –§–ò–û" value="${studentData.fullName}" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 13px; color: var(--text-secondary);">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã:</label>
                                    <input type="text" id="newContacts" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω, email, Telegram" value="+7 (999) 123-45-67, student@mail.ru" style="width: 100%;">
                                </div>
                                <div>
                                    <label style="display: block; margin-bottom: 5px; font-size: 13px; color: var(--text-secondary);">üìß –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:</label>
                                    <select style="width: 100%; padding: 10px 14px; background: rgba(118, 118, 128, 0.12); border: 1px solid var(--border-color); border-radius: 10px; color: var(--text-primary);">
                                        <option>–í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</option>
                                        <option>–¢–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ</option>
                                        <option>–ë–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="material-actions">
                            <button class="inline-button primary" onclick="saveProfile()">
                                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                            </button>
                            <button class="inline-button" onclick="showSection('profile')">
                                ‚Üê –û—Ç–º–µ–Ω–∞
                            </button>
                        </div>
                    </div>
                `);
                messageContainer.appendChild(editMessage);
                setTimeout(() => {
                    scrollToElement(editMessage);
                    document.getElementById('newName').focus();
                }, 150);
            }, 800);
        }

        function saveProfile() {
            const newName = document.getElementById('newName').value.trim();
            const newContacts = document.getElementById('newContacts').value.trim();
            
            if (newName && newName.length >= 2) {
                studentData.fullName = newName;
                updateStudentInfo();
                
                const messageContainer = document.getElementById('messageContainer');
                const userMessage = createUserMessage(newName);
                messageContainer.appendChild(userMessage);
                
                showTypingIndicator();
                
                setTimeout(() => {
                    hideTypingIndicator();
                    const successMessage = createBotMessage(`
                        ‚úÖ <strong>–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω!</strong><br><br>
                        –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.<br><br>
                        <div class="inline-buttons">
                            <button class="inline-button" onclick="showSection('profile')">
                                ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª—å
                            </button>
                        </div>
                    `);
                    messageContainer.appendChild(successMessage);
                    setTimeout(() => {
                        scrollToElement(successMessage);
                    }, 150);
                }, 800);
            } else {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –§–ò–û (–º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞)");
            }
        }

        function handleTokenEnter(event) {
            if (event.key === 'Enter') {
                submitToken();
            }
        }

        function submitToken() {
            const token = document.getElementById('tutorToken').value.trim();
            if (!token || token.length < 8) {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤)");
                return;
            }
            
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage(`–¢–æ–∫–µ–Ω: ${token}`);
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                // –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞
                if (Math.random() > 0.3) { // 70% —É—Å–ø–µ—à–Ω—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏–π
                    const newTutorId = studentData.tutors.length + 1;
                    const subjects = ["–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–§–∏–∑–∏–∫–∞", "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞", "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π", "–•–∏–º–∏—è"];
                    const randomSubject = subjects[Math.floor(Math.random() * subjects.length)];
                    
                    studentData.tutors.push({
                        id: newTutorId,
                        name: "–ù–æ–≤—ã–π –†–µ–ø–µ—Ç–∏—Ç–æ—Ä",
                        subject: randomSubject,
                        active: true,
                        current: false
                    });
                    
                    const successMessage = createBotMessage(`
                        ‚úÖ <strong>–ù–æ–≤—ã–π —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –¥–æ–±–∞–≤–ª–µ–Ω!</strong><br><br>
                        <div class="new-tutor-info">
                            <div class="material-detail">
                                <div class="material-header">
                                    <div class="material-icon" style="background: var(--gradient-secondary);">üë®‚Äçüè´</div>
                                    <div>
                                        <div class="material-title">–ù–æ–≤—ã–π –†–µ–ø–µ—Ç–∏—Ç–æ—Ä</div>
                                        <div class="material-meta">${randomSubject} ‚Ä¢ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ</div>
                                    </div>
                                </div>
                                
                                <div class="material-content">
                                    <p>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à —Å–ø–∏—Å–æ–∫!</p>
                                    <div class="material-file" style="background: rgba(52, 199, 89, 0.1);">
                                        <strong>üéâ –ß—Ç–æ –¥–∞–ª—å—à–µ?</strong><br>
                                        1. –†–µ–ø–µ—Ç–∏—Ç–æ—Ä –ø–æ—è–≤–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ "–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã"<br>
                                        2. –í—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –µ–≥–æ –∫–∞–∫ —Ç–µ–∫—É—â–µ–≥–æ<br>
                                        3. –ù–∞—á–Ω–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
                                    </div>
                                </div>
                                
                                <div class="material-actions">
                                    <button class="inline-button primary" onclick="showSection('tutors')">
                                        üë®‚Äçüè´ –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞–º
                                    </button>
                                    <button class="inline-button" onclick="showSection('addTutor')">
                                        ‚ûï –î–æ–±–∞–≤–∏—Ç—å –µ—â—ë
                                    </button>
                                </div>
                            </div>
                        </div>
                    `);
                    messageContainer.appendChild(successMessage);
                } else {
                    const errorMessage = createBotMessage(`
                        ‚ùå <strong>–¢–æ–∫–µ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–ª.</strong><br><br>
                        <div class="material-detail" style="background: rgba(255, 59, 48, 0.05); border-color: rgba(255, 59, 48, 0.3);">
                            <div class="material-header">
                                <div class="material-icon" style="background: rgba(255, 59, 48, 0.2); color: #ff3b30;">üîí</div>
                                <div>
                                    <div class="material-title">–û—à–∏–±–∫–∞ —Ç–æ–∫–µ–Ω–∞</div>
                                    <div class="material-meta">–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞</div>
                                </div>
                            </div>
                            
                            <div class="material-content">
                                <p>–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:</p>
                                <ul style="margin: 10px 0; padding-left: 20px;">
                                    <li>–¢–æ–∫–µ–Ω —É—Å—Ç–∞—Ä–µ–ª (–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 —á–∞—Å)</li>
                                    <li>–¢–æ–∫–µ–Ω —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω</li>
                                    <li>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞</li>
                                    <li>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä –æ—Ç–º–µ–Ω–∏–ª –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</li>
                                </ul>
                            </div>
                            
                            <div class="material-actions">
                                <button class="inline-button" onclick="showSection('addTutor')">
                                    ‚Üê –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                                </button>
                                <button class="inline-button" onclick="resendTokenInstructions()">
                                    üìß –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
                                </button>
                            </div>
                        </div>
                    `);
                    messageContainer.appendChild(errorMessage);
                }
                
                setTimeout(() => {
                    scrollToBottom();
                }, 150);
            }, 1500);
        }

        function resendTokenInstructions() {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const instructionsMessage = createBotMessage(`
                    üìß <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!</strong><br><br>
                    –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é —Ç–æ–∫–µ–Ω–∞ –≤–∞—à–µ–º—É —Ç–µ–∫—É—â–µ–º—É —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É.<br>
                    –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É:<br><br>
                    
                    <div class="instructions-box">
                        <div class="material-detail">
                            <div class="material-header">
                                <div class="material-icon" style="background: rgba(255, 149, 0, 0.2); color: #ff9500;">üìã</div>
                                <div>
                                    <div class="material-title">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞</div>
                                    <div class="material-meta">–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω –¥–ª—è —É—á–µ–Ω–∏–∫–∞</div>
                                </div>
                            </div>
                            
                            <div class="material-content">
                                <strong>üë®‚Äçüè´ –î–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞:</strong><br>
                                1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ @ProgressTutorBot<br>
                                2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "üë®‚Äçüéì –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏"<br>
                                3. –ù–∞–∂–º–∏—Ç–µ "‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞"<br>
                                4. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω"<br>
                                5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω —É—á–µ–Ω–∏–∫—É<br><br>
                                
                                <div class="material-file">
                                    <strong>üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:</strong><br>
                                    ‚Ä¢ –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 1 —á–∞—Å<br>
                                    ‚Ä¢ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω–æ–≤<br>
                                    ‚Ä¢ –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
                                </div>
                            </div>
                            
                            <div class="material-actions">
                                <button class="inline-button" onclick="copyInstructions()">
                                    üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                                </button>
                                <button class="inline-button" onclick="sendInstructionsToTutor()">
                                    üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É
                                </button>
                            </div>
                        </div>
                    </div><br>
                    
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('addTutor')">
                            ‚Üê –ù–∞–∑–∞–¥
                        </button>
                    </div>
                `);
                messageContainer.appendChild(instructionsMessage);
                setTimeout(() => {
                    scrollToElement(instructionsMessage);
                }, 150);
            }, 800);
        }

        function showMainMenu() {
            const messageContainer = document.getElementById('messageContainer');
            messageContainer.innerHTML = '';
            
            setTimeout(() => {
                const welcomeMessage = document.getElementById('welcomeMessage');
                scrollToElement(welcomeMessage);
            }, 50);
        }

        // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('welcomeTime').textContent = getCurrentTime();
            updateStudentInfo();
            
            const welcomeMessage = document.getElementById('welcomeMessage');
            setTimeout(() => {
                welcomeMessage.style.opacity = '1';
                welcomeMessage.style.transform = 'translateY(0)';
            }, 300);
            
            setInterval(() => {
                const timeElement = document.getElementById('welcomeTime');
                if (timeElement) {
                    timeElement.textContent = getCurrentTime();
                }
            }, 60000);
            
            // –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
            const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.querySelector('.sidebar');
            
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    sidebar.classList.toggle('mobile-open');
                });
            }
        });

        // ===== –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====
        function downloadAllMaterials() {
            alert("–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞—á–∞—Ç–∞. –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è...");
        }

        function searchMaterials() {
            const messageContainer = document.getElementById('messageContainer');
            const userMessage = createUserMessage("–ü–æ–∏—Å–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤");
            messageContainer.appendChild(userMessage);
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                const searchMessage = createBotMessage(`
                    üîç <strong>–ü–æ–∏—Å–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤</strong><br><br>
                    <div class="input-wrapper">
                        <input type="text" id="searchQuery" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞..." 
                               onkeypress="if(event.key === 'Enter') performSearch()">
                        <button class="inline-button small" onclick="performSearch()">
                            üîç –ò—Å–∫–∞—Ç—å
                        </button>
                    </div><br>
                    
                    <div class="material-file">
                        <strong>üí° –°–æ–≤–µ—Ç—ã –ø–æ –ø–æ–∏—Å–∫—É:</strong><br>
                        ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞<br>
                        ‚Ä¢ –ò—â–∏—Ç–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ç–µ–º—ã<br>
                        ‚Ä¢ –§–∏–ª—å—Ç—Ä—É–π—Ç–µ –ø–æ —Ç–∏–ø—É —Ñ–∞–π–ª–∞<br>
                        ‚Ä¢ –°–º–æ—Ç—Ä–∏—Ç–µ –Ω–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ
                    </div>
                    
                    <br>
                    <div class="inline-buttons">
                        <button class="inline-button" onclick="showSection('materials')">
                            ‚Üê –ù–∞–∑–∞–¥ –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
                        </button>
                    </div>
                `);
                messageContainer.appendChild(searchMessage);
                setTimeout(() => {
                    scrollToElement(searchMessage);
                    document.getElementById('searchQuery').focus();
                }, 150);
            }, 800);
        }

        function performSearch() {
            const query = document.getElementById('searchQuery').value.trim();
            if (!query) {
                alert("–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å");
                return;
            }
            
            alert(`–ü–æ–∏—Å–∫: "${query}"\n–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –∑–¥–µ—Å—å –±—É–¥—É—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞`);
        }

        function downloadMaterial(filename) {
            alert(`–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞: ${filename}`);
        }

        function previewMaterial(filename) {
            alert(`–ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–∞: ${filename}\n–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä`);
        }

        function markTopicAsCompleted(topicId) {
            const topic = materialsData.topics.find(t => t.id === topicId);
            if (topic) {
                topic.progress = 100;
                alert(`–¢–µ–º–∞ "${topic.name}" –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∏–∑—É—á–µ–Ω–Ω–∞—è!`);
                showSection('materials');
            }
        }

        function contactTutor(tutorId) {
            const tutor = studentData.tutors.find(t => t.id === tutorId);
            if (tutor) {
                alert(`–°–≤—è–∑—å —Å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º ${tutor.name}\n–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è —á–∞—Ç —Å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º`);
            }
        }

        function askQuestionAboutAssignment(assignmentId) {
            const assignment = assignmentsData.find(a => a.id === assignmentId);
            if (assignment) {
                alert(`–í–æ–ø—Ä–æ—Å –ø–æ –∑–∞–¥–∞–Ω–∏—é #${assignmentId}: ${assignment.title}\n–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥ —Å —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–º`);
            }
        }

        function downloadAssignmentFiles(assignmentId) {
            alert(`–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∑–∞–¥–∞–Ω–∏—è #${assignmentId}`);
        }

        function downloadPDFReport() {
            alert("PDF –æ—Ç—á–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...");
        }

        function downloadExcelReport() {
            alert("Excel —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...");
        }

        function downloadCharts() {
            alert("–ì—Ä–∞—Ñ–∏–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...");
        }

        function downloadTextReport() {
            alert("–¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...");
        }

        function sendReportToEmail() {
            const email = prompt("–í–≤–µ–¥–∏—Ç–µ email –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—á–µ—Ç–∞:");
            if (email) {
                alert(`–û—Ç—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ ${email}`);
            }
        }

        function sendDetailedRequest() {
            const request = prompt("–û–ø–∏—à–∏—Ç–µ, –∫–∞–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤–∞–º –Ω—É–∂–Ω—ã:");
            if (request) {
                alert(`–î–µ—Ç–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É:\n"${request}"`);
            }
        }

        function copyInstructions() {
            navigator.clipboard.writeText("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–∞:\n1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ @ProgressTutorBot\n2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª 'üë®‚Äçüéì –ú–æ–∏ —É—á–µ–Ω–∏–∫–∏'\n3. –ù–∞–∂–º–∏—Ç–µ '‚ûï –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞'\n4. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞\n5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω —É—á–µ–Ω–∏–∫—É");
            alert("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!");
        }

        function sendInstructionsToTutor() {
            alert("–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ç–µ–∫—É—â–µ–º—É —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—É");
        }

        function showQRConnect() {
            alert("QR-–∫–æ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\n–í —Ä–µ–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω QR-–∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è");
        }

        function showSecuritySettings() {
            alert("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n–ü–∞—Ä–æ–ª—å, –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏");
        }

        function showNotificationSettings() {
            alert("–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\nEmail, push, Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è");
        }

        function changeContacts() {
            alert("–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤\n–¢–µ–ª–µ—Ñ–æ–Ω, email, –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã");
        }

        function deleteAccount() {
            if (confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.")) {
                alert("–ó–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É");
            }
        }
    </script>

    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã —É—á–µ–Ω–∏–∫–∞ */
        .student-info {
            background: rgba(0, 122, 255, 0.1);
            border-radius: 10px;
            padding: 12px;
            margin: 10px 0;
            border-left: 3px solid #007aff;
        }
        
        .tutor-info {
            font-size: 13px;
        }
        
        .warning-info {
            background: rgba(255, 149, 0, 0.1);
            border-radius: 10px;
            padding: 10px;
            border-left: 3px solid #ff9500;
        }
        
        .button-row {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .input-wrapper {
            display: flex;
            gap: 10px;
            margin: 10px 0;
        }
        
        .input-wrapper input {
            flex: 1;
            padding: 10px 14px;
            background: rgba(118, 118, 128, 0.12);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 14px;
        }
        
        .input-wrapper input:focus {
            outline: none;
            border-color: var(--text-accent);
            box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.15);
        }
        
        .inline-button.small {
            padding: 6px 10px;
            font-size: 11px;
        }
        
        .inline-button.danger {
            background: rgba(255, 59, 48, 0.1);
            color: #ff3b30;
            border-color: #ff3b30;
        }
        
        .inline-button.danger:hover {
            background: rgba(255, 59, 48, 0.2);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–¥–µ–ª–æ–≤ */
        .tutor-header, .materials-header {
            background: rgba(118, 118, 128, 0.08);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 13px;
        }
        
        .assignments-stats {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid var(--border-light);
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid rgba(118, 118, 128, 0.1);
        }
        
        .stat-row:last-child {
            border-bottom: none;
        }
        
        .stat-label {
            font-weight: 500;
        }
        
        .stat-value {
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .stat-value.active {
            background: rgba(52, 199, 89, 0.2);
            color: #34c759;
        }
        
        .stat-value.overdue {
            background: rgba(255, 59, 48, 0.2);
            color: #ff3b30;
        }
        
        .stat-value.submitted {
            background: rgba(0, 122, 255, 0.2);
            color: #007aff;
        }
        
        .stat-value.checking {
            background: rgba(255, 149, 0, 0.2);
            color: #ff9500;
        }
        
        .assignments-list {
            background: rgba(118, 118, 128, 0.08);
            border-radius: 10px;
            padding: 10px;
            margin: 10px 0;
        }
        
        .assignment-item {
            padding: 10px;
            margin: 8px 0;
            background: var(--bg-card);
            border-radius: 8px;
            border-left: 4px solid;
        }
        
        .assignment-item.overdue {
            border-left-color: #ff3b30;
            background: rgba(255, 59, 48, 0.05);
        }
        
        .assignment-item.active {
            border-left-color: #007aff;
            background: rgba(0, 122, 255, 0.05);
        }
        
        .assignment-item.submitted {
            border-left-color: #34c759;
            background: rgba(52, 199, 89, 0.05);
        }
        
        .materials-structure {
            font-family: monospace;
            font-size: 13px;
            background: rgba(118, 118, 128, 0.08);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--border-light);
        }
        
        .folder {
            padding-left: 10px;
        }
        
        .subfolder {
            padding-left: 20px;
            color: var(--text-secondary);
        }
        
        .progress-bar {
            height: 24px;
            background: rgba(118, 118, 128, 0.2);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #007aff, #5856d6);
            transition: width 0.5s ease;
        }
        
        .progress-text {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .stat-card {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border-light);
        }
        
        .stat-card .stat-number {
            font-size: 24px;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }
        
        .stat-card .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .topics-stats {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--border-light);
        }
        
        .topic-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 8px;
            font-size: 13px;
        }
        
        .topic-item.excellent {
            background: rgba(52, 199, 89, 0.1);
            border-left: 3px solid #34c759;
        }
        
        .topic-item.good {
            background: rgba(0, 122, 255, 0.1);
            border-left: 3px solid #007aff;
        }
        
        .topic-item.average {
            background: rgba(255, 149, 0, 0.1);
            border-left: 3px solid #ff9500;
        }
        
        .topic-item.poor {
            background: rgba(255, 59, 48, 0.1);
            border-left: 3px solid #ff3b30;
        }
        
        .topic-score {
            font-weight: 700;
        }
        
        .recommendations {
            background: rgba(0, 122, 255, 0.08);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #007aff;
            font-size: 13px;
        }
        
        .tutors-list {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--border-light);
        }
        
        .tutor-item {
            padding: 12px;
            margin: 10px 0;
            background: rgba(118, 118, 128, 0.08);
            border-radius: 10px;
        }
        
        .tutor-item.current {
            background: rgba(0, 122, 255, 0.1);
            border: 1px solid rgba(0, 122, 255, 0.3);
        }
        
        .tutor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .current-badge {
            background: #007aff;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        
        .tutor-details {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .tutor-actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
        }
        
        .notes-list {
            list-style: none;
            padding-left: 0;
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .notes-list li {
            margin-bottom: 6px;
            padding-left: 15px;
            position: relative;
        }
        
        .notes-list li:before {
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: var(--text-accent);
        }
        
        .profile-info {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid var(--border-light);
        }
        
        .profile-field {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(118, 118, 128, 0.1);
        }
        
        .profile-field:last-child {
            border-bottom: none;
        }
        
        .field-label {
            font-weight: 500;
            color: var(--text-secondary);
        }
        
        .field-value {
            font-weight: 500;
            text-align: right;
            max-width: 60%;
        }
        
        .token-instructions {
            background: rgba(0, 122, 255, 0.08);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #007aff;
            font-size: 13px;
            margin: 10px 0;
        }
        
        .example-token {
            background: rgba(118, 118, 128, 0.08);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .example-token code {
            font-family: monospace;
            background: rgba(0, 0, 0, 0.2);
            padding: 4px 8px;
            border-radius: 4px;
            margin: 0 4px;
        }
        
        .instructions-box {
            background: rgba(255, 149, 0, 0.08);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #ff9500;
            font-size: 13px;
            margin: 10px 0;
        }
        
        .simulated-attachment {
            background: rgba(118, 118, 128, 0.08);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .submission-info {
            background: rgba(52, 199, 89, 0.08);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #34c759;
        }
        
        .new-tutor-info {
            background: rgba(0, 122, 255, 0.08);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #007aff;
        }
        
        .export-options {
            background: rgba(255, 149, 0, 0.08);
            padding: 12px;
            border-radius: 10px;
            border-left: 3px solid #ff9500;
        }
        
        .user-message .message-content {
            background: linear-gradient(135deg, #007aff, #5856d6);
            color: white;
        }
        
        .user-message .message-sender {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .user-message .message-time {
            color: rgba(255, 255, 255, 0.7);
        }
        
        @media (max-width: 768px) {
            .button-row {
                flex-direction: column;
            }
            
            .input-wrapper {
                flex-direction: column;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .tutor-details {
                flex-direction: column;
                gap: 4px;
            }
            
            .tutor-actions {
                flex-direction: column;
            }
            
            .profile-field {
                flex-direction: column;
                gap: 4px;
            }
            
            .field-value {
                max-width: 100%;
                text-align: left;
            }
            
            .materials-navigation {
                flex-direction: column;
            }
            
            .nav-button {
                min-width: 100%;
            }
            
            .material-actions {
                flex-direction: column;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                font-size: 12px;
            }
            
            .calendar-day {
                padding: 6px;
            }
        }
    </style>
</body>
</html>